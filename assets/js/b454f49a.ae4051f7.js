"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8615],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),d=i,f=p["".concat(s,".").concat(d)]||p[d]||m[d]||r;return n?a.createElement(f,o(o({ref:t},u),{},{components:n})):a.createElement(f,o({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3919:(e,t,n)=>{function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!a(e)}n.d(t,{b:()=>a,Z:()=>i})},4996:(e,t,n)=>{n.d(t,{C:()=>r,Z:()=>o});var a=n(2263),i=n(3919);function r(){const{siteConfig:{baseUrl:e="/",url:t}={}}=(0,a.Z)();return{withBaseUrl:(n,a)=>function(e,t,n,{forcePrependBaseUrl:a=!1,absolute:r=!1}={}){if(!n)return n;if(n.startsWith("#"))return n;if((0,i.b)(n))return n;if(a)return t+n;const o=n.startsWith(t)?n:t+n.replace(/^\//,"");return r?e+o:o}(t,e,n,a)}}function o(e,t={}){const{withBaseUrl:n}=r();return n(e,t)}},8215:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(7294);const i=function({children:e,hidden:t,className:n}){return a.createElement("div",{role:"tabpanel",hidden:t,className:n},e)}},1395:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(7294),i=n(944),r=n(6010);const o="tabItem_1uMI",l="tabItemActive_2DSg";const s=37,c=39;const u=function(e){const{lazy:t,block:n,defaultValue:u,values:m,groupId:p,className:d}=e,{tabGroupChoices:f,setTabGroupChoices:h}=(0,i.Z)(),[v,b]=(0,a.useState)(u),k=a.Children.toArray(e.children),y=[];if(null!=p){const e=f[p];null!=e&&e!==v&&m.some((t=>t.value===e))&&b(e)}const g=e=>{const t=e.currentTarget,n=y.indexOf(t),a=m[n].value;b(a),null!=p&&(h(p,a),setTimeout((()=>{(function(e){const{top:t,left:n,bottom:a,right:i}=e.getBoundingClientRect(),{innerHeight:r,innerWidth:o}=window;return t>=0&&i<=o&&a<=r&&n>=0})(t)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(l),setTimeout((()=>t.classList.remove(l)),2e3))}),150))},N=e=>{var t;let n;switch(e.keyCode){case c:{const t=y.indexOf(e.target)+1;n=y[t]||y[0];break}case s:{const t=y.indexOf(e.target)-1;n=y[t]||y[y.length-1];break}}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},d)},m.map((({value:e,label:t})=>a.createElement("li",{role:"tab",tabIndex:v===e?0:-1,"aria-selected":v===e,className:(0,r.Z)("tabs__item",o,{"tabs__item--active":v===e}),key:e,ref:e=>y.push(e),onKeyDown:N,onFocus:g,onClick:g},t)))),t?(0,a.cloneElement)(k.filter((e=>e.props.value===v))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},k.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==v})))))}},9443:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(7294).createContext)(void 0)},944:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294),i=n(9443);const r=function(){const e=(0,a.useContext)(i.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},7840:(e,t,n)=>{n.d(t,{s:()=>i});var a=n(7294);function i({id:e,aspectRatio:t=4/3,hd:n="0"}){return a.createElement("p",{style:{position:"relative",paddingBottom:1/t*100+"%"}},a.createElement("iframe",{src:`https://gfycat.com/ifr/${e}?hd=${n}`,scrolling:"no",frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},8173:(e,t,n)=>{n.d(t,{s:()=>s});var a=n(2177),i=n(8215),r=n(1395),o=n(7294);const l={lua:"Lua",ts:"TypeScript",tsx:"TypeScript",js:"JavaScript",jsx:"JavaScript"};function s({children:e,group:t,titles:n}){(0,a.Z)("string"==typeof t||void 0===t);const s=o.Children.toArray(e).map(((e,t)=>{var a;const i=(null==(a=e.props.children.props.className)?void 0:a.replace(/language-/,""))??`Tab ${t+1}`;return{id:t,languageName:(void 0!==n&&n.length>0?n.split("|"):[])[t]??l[i]??i,element:e}}));return o.createElement(r.Z,{groupId:void 0!==t?`multi-code-block-${t}`:void 0,defaultValue:s[0].id,values:s.map((({id:e,languageName:t})=>({value:e,label:t})))},s.map((({id:e,element:t})=>o.createElement(i.Z,{key:e,value:e},t))))}},6776:(e,t,n)=>{n.d(t,{X:()=>r});var a=n(4996),i=n(7294);function r({path:e,controls:t=!1}){return i.createElement("video",{width:"100%",height:"100%",autoPlay:!0,muted:!0,loop:!0,controls:t},i.createElement("source",{src:(0,a.Z)(e),type:"video/mp4"}))}},8129:(e,t,n)=>{n.d(t,{_:()=>i});var a=n(7294);function i({id:e,playlistId:t,aspectRatio:n=16/9}){const i=void 0!==t?`https://www.youtube.com/embed/videoseries?list=${t}`:`https://www.youtube.com/embed/${e}`;return a.createElement("p",{style:{position:"relative",paddingBottom:1/n*100+"%"}},a.createElement("iframe",{src:i,frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},805:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>r,metadata:()=>o,toc:()=>l,default:()=>c});var a=n(7462),i=(n(7294),n(3905));n(1395),n(8215),n(7840),n(8129),n(8173),n(6776);const r={title:"DataDriven Ability Events & Modifiers",author:"Noya",steamId:"76561198046984233",date:"10.12.2014"},o={unversionedId:"abilities/datadriven/datadriven-ability-events-modifiers",id:"abilities/datadriven/datadriven-ability-events-modifiers",isDocsHomePage:!1,title:"DataDriven Ability Events & Modifiers",description:"A guide that tries to cover every Ability & Modifier Event of the ability_datadriven system, with examples.",source:"@site/_articles/abilities/datadriven/datadriven-ability-events-modifiers.md",sourceDirName:"abilities/datadriven",slug:"/abilities/datadriven/datadriven-ability-events-modifiers",permalink:"/abilities/datadriven/datadriven-ability-events-modifiers",editUrl:"https://github.com/ModDota/moddota.github.io/edit/source/_articles/abilities/datadriven/datadriven-ability-events-modifiers.md",version:"current",frontMatter:{title:"DataDriven Ability Events & Modifiers",author:"Noya",steamId:"76561198046984233",date:"10.12.2014"},sidebar:"tutorials",previous:{title:"Reutilizing Built-In Modifiers",permalink:"/abilities/reutilizing-built-in-modifiers"},next:{title:"All about the Target",permalink:"/abilities/datadriven/all-about-the-target"}},l=[{value:"Introduction",id:"introduction",children:[]}],s={toc:l};function c({components:e,...t}){return(0,i.kt)("wrapper",(0,a.Z)({},s,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"A guide that tries to cover every Ability & Modifier Event of the ",(0,i.kt)("em",{parentName:"p"},"ability_datadriven")," system, with examples."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"http://moddota.com/forums/discussion/13/datadriven-ability-events-modifiers",title:"Start"},(0,i.kt)("img",{parentName:"a",src:"https://i.imgur.com/T7W828Q.png",alt:"img"}))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_28"},"Ability Events"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_28"},"Spell Start")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_29"},"Toggleable Abilities")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_30"},"Channeled Abilities")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_31"},"Death and Spawn")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_32"},"Projectiles")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_33"},"Item Equip")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_34"},"Others")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_35"},"Modifier Events"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_35"},"Create and Destroy")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_36"},"Repeating Actions")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_37"},"Attacks")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_38"},"Damage")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_39"},"Killing and Dying")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_40"},"Orbs")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#Comment_41"},"Others"))))),(0,i.kt)("br",null),(0,i.kt)("a",{name:"start"}),"This is an Intermediate guide that expects some knowledge of the most common first-level keyvalues. If unsure about the meaning of any of them, check the [DataDriven Ability Breakdown](http://moddota.com/forums/discussion/14/datadriven-ability-breakdown).",(0,i.kt)("h3",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"In the Data Driven system, an Event is something that triggers when a particular in-game event occurs, for example, finishing the cast of an ability."),(0,i.kt)("p",null,"They are of the form On","[",(0,i.kt)("em",{parentName:"p"},"EventTriggerKeyword"),"]",", like ",(0,i.kt)("inlineCode",{parentName:"p"},"OnSpellStart")," ",(0,i.kt)("inlineCode",{parentName:"p"},"OnCreated")," etc."),(0,i.kt)("p",null,"There's a complete (for the most part) ",(0,i.kt)("a",{parentName:"p",href:"https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Scripting/Abilities_Data_Driven#Ability_Events_and_Actions"},"list of Events in the Workshop Tools Wiki")," but what I'm gonna do is explain each one of them with examples of how and when to use them."),(0,i.kt)("p",null,"In the process I'm also going to make use of different ",(0,i.kt)("a",{parentName:"p",href:"https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Scripting/Abilities_Data_Driven#Actions"},"Actions"),", inside the Events, some are self explanatory and some require some in-depth explanation on how to use them."),(0,i.kt)("p",null,"There are 2 types, ",(0,i.kt)("strong",{parentName:"p"},"Ability Events")," and ",(0,i.kt)("strong",{parentName:"p"},"Modifier Events"),". "),(0,i.kt)("p",null,'Ability Events go on the "first level" of the ability. Modifier Events need to be inside a modifier block.'),(0,i.kt)("p",null,"Basic Skeleton looks like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'"ability_custom"\n{\n    // AbilityBehavior and General values\n    // AbilitySpecial block \n    // precache block\n\n    // Ability Events\n    "OnSpellStart"\n    { [ACTIONS] }\n\n    "Modifiers"\n    {\n        "modifier_custom" \n          {\n            // Modifier Events\n            "OnCreated"\n            { [ACTIONS] }\n        }\n    }\n}\n')),(0,i.kt)("p",null,"When the Event triggers, all the Actions defined in its block will be executed."),(0,i.kt)("p",null,"To test if your Event is actually happening when you expect, you can add the following Action block inside it:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'"RunScript"\n{\n    "ScriptFile" "utilities.lua"\n    "Function" "Test"\n}\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"RunScript")," is one of the most common and potent Actions you'll use for creating complex abilities. For it to work, you need to have a Script File, in this case ",(0,i.kt)("em",{parentName:"p"},"utilities.lua"),", inside the vscripts folder. "),(0,i.kt)("p",null,"The Function called can have this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua"},'function Test( event )\n    print("It works!")\nend\n')),(0,i.kt)("p",null,"This will display to the Console the values passed (usually a huge table) if your event trigger is being detected correctly."),(0,i.kt)("p",null,"I'll try to stay away from RunScript as the Action to not have to make this a Dota Lua API wall of text, which is to be addressed in another, more advanced tutorial."),(0,i.kt)("hr",null))}c.isMDXComponent=!0},6010:(e,t,n)=>{function a(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i})}}]);