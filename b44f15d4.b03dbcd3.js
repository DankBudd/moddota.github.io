(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{156:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return u}));var n=a(2),i=(a(0),a(194)),o=(a(186),a(187),a(195));a(196),a(197),a(198);const r={title:"Volcano Particle",author:"Noya",steamId:"76561198046984233",date:"07.02.2015"},l={id:"assets/particles/volcano-particle",isDocsHomePage:!1,title:"Volcano Particle",description:"Here I'll explain how to modify preexisting particles for the creation of a Volcano ability",source:"@site/_articles/assets/particles/volcano-particle.md",permalink:"/assets/particles/volcano-particle",editUrl:"https://github.com/ModDota/moddota.github.io/edit/source/_articles/assets/particles/volcano-particle.md",sidebar:"tutorials",previous:{title:"Falling cherry blossom petal for spring mood particle",permalink:"/assets/particles/falling-cherry-blossom-petal-for-spring-mood-particle"},next:{title:"Status Effects",permalink:"/assets/particles/status-effects"}},s=[],c={rightToc:s};function u({components:e,...t}){return Object(i.b)("wrapper",Object(n.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Here I'll explain how to modify preexisting particles for the creation of a ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/MNoya/DotaCraft/blob/master/scripts/npc/abilities/firelord_volcano.txt"}),"Volcano ability")," :nuke:"),Object(i.b)("p",null,"I won't be making the particles from scratch or going really deep into its possibilities, so make sure to read the wonderful ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://moddota.com/forums/discussion/110/particles-creation-series"}),"Particle Creation Series")," by kritth to get a deeper understanding than just this example."),Object(i.b)(o.a,{id:"HandsomeImpossibleHyena",mdxType:"Gfycat"}),Object(i.b)("br",null),Object(i.b)("p",null,"First we want a ~250 AoE radius volcano earth cone."),Object(i.b)("p",null,"There is an useful particle system useful for this, espirit_spawn.vpcf, open it."),Object(i.b)("p",null,"Go into its first child, _ground."),Object(i.b)("p",null,"I want to hide the soild model because this spell will need some collision with the volcano, spawning a ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/MNoya/DotaCraft/blob/master/scripts/npc/units/firelord_volcano.txt"}),"simple volcano unit"),". So in the main particle, disable the Render Model."),Object(i.b)("p",null,"Now we need to adjust its child to fit the parent size and duration, making it loop with rocks."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Add Emit Continuously"),Object(i.b)("li",{parentName:"ul"},"Disable the Movement basic and alfa fade out simple"),Object(i.b)("li",{parentName:"ul"},"Disable the 2 Remap particle count to scalar"),Object(i.b)("li",{parentName:"ul"},"Radius from 16 to 25, make the place on ground 0"),Object(i.b)("li",{parentName:"ul"},"Lifetime random, on the max value, change it to 0. This will make the earth move constantly and randomly.")),Object(i.b)("br",null),Object(i.b)("p",null,"Let's repeat the same steps on the other childs to make the dust-debris effect repeat"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"On the _groundburst:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Add Emit continuously."),Object(i.b)("li",{parentName:"ul"},"Because more particles is always better, we want more debris to be launched.\nFor this, go to its base properties, filter for Max, and double the max particles value. ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://puu.sh/fx0cP/9f961c2c84.png"}),"https://puu.sh/fx0cP/9f961c2c84.png")),Object(i.b)("li",{parentName:"ul"},"Then go to the Emit instanteneously, in the num to emit, also double this value."),Object(i.b)("li",{parentName:"ul"},"Also increase the radius size of the launched particles by going into Initializer's Radius random and seting the min & max to 0.1 and 0.5"),Object(i.b)("li",{parentName:"ul"},"Finally, change to a darker rock model, Render Model to bad_barracks_stones003.vmdl")))),Object(i.b)("p",null,Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://puu.sh/fzghv/60aacd4e5e.png"}),"https://puu.sh/fzghv/60aacd4e5e.png")),Object(i.b)("p",null,"It's looking like this now (I forgot to hide the model for this preview)"),Object(i.b)(o.a,{id:"OptimalRichDeviltasmanian",mdxType:"Gfycat"}),Object(i.b)("br",null),"Moving onto _grounddustbdust, we see that the particle already has an Emit continuously, but it isn't actually looping as we'd want to, it's just emitting a single cloud.",Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Change Emit continuously to emission duration 0"),Object(i.b)("li",{parentName:"ul"},"Disable Remap scalar to Vector on the bottom of the Initializer functions (this gets rid of the black clouds)"),Object(i.b)("li",{parentName:"ul"},"I also want the smoke to raise higher, for this change the Movement Basic 3rd value Z to 400 from the original 200.")),Object(i.b)("p",null,"Now the particle system is kinda filling the entire particle with dust, so we do the following:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"In Initializer Radius Random, change the radius max to 15 from 40."),Object(i.b)("li",{parentName:"ul"},"In Base Properties, reduce the max particles to 20 from 36.")),Object(i.b)("p",null,"Finally we finished the core base of the volcano:"),Object(i.b)(o.a,{id:"ClumsyImpishGardensnake",mdxType:"Gfycat"}),"Because I don't want or need to have additional control points, I'll make sure that all the control points of this particle system are fixed to the CP0.",Object(i.b)("p",null,"By going into the main particle system and moving the CP1, we wee that the dust and ground burst are tied to CP1. We want them at CP0 for simplicity"),Object(i.b)("p",null,"To know which fields have which control point, hover over them:"),Object(i.b)("p",null,Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://puu.sh/fx7rp/2f77543e58.jpg"}),"https://puu.sh/fx7rp/2f77543e58.jpg")),Object(i.b)("p",null,"Now go to this position along ring, change the CP to 0, and its done. "),Object(i.b)("p",null,Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://puu.sh/fx7wH/1d245d2e56.png"}),"https://puu.sh/fx7wH/1d245d2e56.png")),Object(i.b)("p",null,"Repeat the same process on the groundburst particle."),Object(i.b)("hr",null),Object(i.b)("p",null,"Now, lets add fire to it! \ud83d\udd25"),Object(i.b)("p",null,"In case you don't have the latest decompiled particles (which should include Techies and SF Arcana particles), download them from here: ",Object(i.b)("strong",{parentName:"p"},Object(i.b)("a",Object(n.a)({parentName:"strong"},{href:"http://moddota.com/resources/decompiled_particles.zip"}),"Decompiled Particles")),". There should also be a link in the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://moddota.com/forums/resources"}),"Resources Page")),Object(i.b)("br",null),Object(i.b)("p",null,"Back to the particle editor, open the recently forked, sf_fire_arcana_wings system"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Hide the wing effects by disabling the render model of the wings ")),Object(i.b)("p",null,Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://puu.sh/fAac1/f03b7350a1.png"}),"https://puu.sh/fAac1/f03b7350a1.png")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Make a new child"),Object(i.b)("li",{parentName:"ul"},"Add the espirit_spawn custom system made earlier.")),Object(i.b)("p",null,Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://puu.sh/fAcn5/8132f680eb.jpg"}),"https://puu.sh/fAcn5/8132f680eb.jpg")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Change the first 3 sf_fire_arcana_wings child particles to emit continuously like before.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Going into sf_fire_arcana_wings_smoke_body you can see theres many wings_rope childs copied, each one of these childs has a different ground position."),Object(i.b)("p",{parentName:"li"},"Lets keep only 1 at the middle and disable the rest while also making it emit continously.\nThe _wings_rope is already set to emit continuously but has a limited emission duration to 2.0, change it to 0."),Object(i.b)("p",{parentName:"li"},"Also disable the 2nd Remap initial scalars to properly get the permanent particle.\n")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Now go into the rope_detail and do exactly the same: emission to ration 0, no Remap initial scalar.\nAlso disable the noise vector, which makes the particle stutter after a while.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Go back to wings_smoke, and disable the Initializer: Position modify offset random, as this is preventing the rope from starting at the center of CP1.\n")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"For the _beams, also make them permanent, disable the Stop effect after duration, durations on the Emit continuously have to be 0.\nDecrease the max particle count to a third of its value, 36->12.\nChange the offset to 0,0,10\n")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"In grow_rope, add Emit continuously and disable the Initializers for remap Particle count to scalar\non its child rope_glow, only need to change emission duration to 0.\n")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"_ember emission duration 0 also\n")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Add an emit continuously to to _core\n")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"_souls_hands_pnt is supposed to be attached to shadow fiends hands, but our model doesn't use that, so we need to change it a bit, basically doing the same as before (changing or adding constant emitting, removing stuff that makes it stop, etc)\n")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"I'll disable _souls_hands_tail because its too much noise already, and replace the Pull towards control point by a movement basic Z of 50, so that it looks like the light is coming from the center and flowing up.\n"))),Object(i.b)("p",null,"Now after all that mess:"),Object(i.b)(o.a,{id:"FewLeftAcornbarnacle",mdxType:"Gfycat"}),Object(i.b)("hr",null),Object(i.b)("p",null,"After the core volcano is done, now its time to add some boulders that originate from the center to all points in the 500 aoe radius of the ability."),Object(i.b)("p",null,"This would be an extra particle system which I want to repeat at a time interval of my choice in the ability, so it will be just 1 instance and I can easiliy ThinkInterval + FireEffect it."),Object(i.b)("p",null,"I will use a modified warlock_rain_of_chaos_explosion.vpcf with sf_fire_arcana_shadowraze for this purpose."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"First add a shadowraze children ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://puu.sh/fyMVL/ef8b4c1300.jpg"}),"https://puu.sh/fyMVL/ef8b4c1300.jpg")," ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://puu.sh/fyNqp/6a310ed236.jpg"}),"https://puu.sh/fyNqp/6a310ed236.jpg")," and increase the duration of most explosion effects, so it lasts a bit more after the explosion.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"_char increased lifetime random to 4 and 5. child char_fire doubled emit continously emission duration")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"_end_smoke emission duration to 3.0 seconds"))),Object(i.b)("p",null,"That's it for the shadowraze, now changing the rocks to move slower, last for longer and have an endcap animation when they hit the ground!"),Object(i.b)("p",null,"On chaos_explosion"),Object(i.b)("p",null,"We need to change some initializer functions to decrease the speed and make the rocks last longer"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Disable Radius scale to make the rocks not decrease in size"),Object(i.b)("li",{parentName:"ul"},"Disable Lifespan decay, this makes particle not disappear after a fixed duration."),Object(i.b)("li",{parentName:"ul"},"Add the following operator to make the particles disappear when they hit the ground: ",Object(i.b)("strong",{parentName:"li"},"Cull when crossing plane"),", keep it at the 0,0,1 plane normal by default."),Object(i.b)("li",{parentName:"ul"},"Also add Position modify offset random Initializer, to make them start a bit higher on the z so that some rocks dont get removed earlier. I put both offset min and max at 20."),Object(i.b)("li",{parentName:"ul"},"Increase the amount of emited particles, num to emit = 36. Also make them not spawn all in the same frame, maximum mission per frame = 1."),Object(i.b)("li",{parentName:"ul"},"Decrease the speed on the position along ring operator, min initial speed = 800 and max = 100.")),Object(i.b)("p",null,"Result: "),Object(i.b)(o.a,{id:"FinishedRewardingBactrian",mdxType:"Gfycat"}),Object(i.b)("hr",null),Object(i.b)("p",null,"Last but not least, another effect will be played when damaging a unit."),Object(i.b)("p",null,"Now modifying particles/custom/sf_fire_arcana_base_attack_impact.vpcf is possible after having it decompiled earlier, and making a bigger and flashier explosion should be trivial with what I explained in the previous particle modifications."),Object(i.b)("p",null,"I'll also add a lone_druid_bear_entangle_ground_soil_cauldron effect in here, to leave the mark where an rock damaged an anemy."),Object(i.b)("p",null,"Finally after getting the particle with the ability together..."),Object(i.b)(o.a,{id:"DisastrousRecentBaldeagle",mdxType:"Gfycat"}),Object(i.b)("hr",null),Object(i.b)("p",null,"I hope this isn't too much of a mess to reproduce and there's useful pieces of information hidden in between my random rambling :puppeyface: "),Object(i.b)("p",null,"If I missed something or there's any doubts or suggestions just bombard this thread with them, I'll be glad to answer and learn from the mistakes I constantly do while modding particles. "))}u.isMDXComponent=!0},186:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(193),r=a(190),l=a(90),s=a.n(l);const c=37,u=39;t.a=function(e){const{block:t,children:a,defaultValue:l,values:p,groupId:b}=e,{tabGroupChoices:d,setTabGroupChoices:h}=Object(o.a)(),[m,f]=Object(n.useState)(l);if(null!=b){const e=d[b];null!=e&&e!==m&&p.some(t=>t.value===e)&&f(e)}const g=e=>{f(e),null!=b&&h(b,e)},j=[];return i.a.createElement("div",null,i.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(r.a)("tabs",{"tabs--block":t})},p.map(({value:e,label:t})=>i.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":m===e,className:Object(r.a)("tabs__item",s.a.tabItem,{"tabs__item--active":m===e}),key:e,ref:e=>j.push(e),onKeyDown:e=>((e,t,a)=>{switch(a.keyCode){case u:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case c:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(j,e.target,e),onFocus:()=>g(e),onClick:()=>g(e)},t))),i.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter(e=>e.props.value===m)[0]))}},187:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){return i.a.createElement("div",null,e.children)}},188:function(e,t,a){"use strict";var n=a(0),i=a(34);t.a=function(){return Object(n.useContext)(i.a)}},189:function(e,t,a){"use strict";function n(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}a.d(t,"a",(function(){return n}))},190:function(e,t,a){"use strict";function n(e){var t,a,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(i&&(i+=" "),i+=a);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,a=0,i="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}},191:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(188),i=a(189);function o(e,{forcePrependBaseUrl:t=!1,absolute:a=!1}={}){const{siteConfig:{baseUrl:o="/",url:r}={}}=Object(n.a)();if(!e)return e;if(t)return o+e;if(!Object(i.a)(e))return e;const l=o+e.replace(/^\//,"");return a?r+l:l}},192:function(e,t,a){"use strict";var n=a(0);const i=Object(n.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=i},193:function(e,t,a){"use strict";var n=a(0),i=a(192);t.a=function(){return Object(n.useContext)(i.a)}},194:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return h}));var n=a(0),i=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=i.a.createContext({}),u=function(e){var t=i.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=u(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,r=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(a),d=n,h=p["".concat(r,".").concat(d)]||p[d]||b[d]||o;return a?i.a.createElement(h,l(l({ref:t},c),{},{components:a})):i.a.createElement(h,l({ref:t},c))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,r=new Array(o);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,r[1]=l;for(var c=2;c<o;c++)r[c]=a[c];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},195:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n);function o({id:e,aspectRatio:t=4/3,hd:a="0"}){return i.a.createElement("p",{style:{position:"relative",paddingBottom:1/t*100+"%"}},i.a.createElement("iframe",{src:`https://gfycat.com/ifr/${e}?hd=${a}`,scrolling:"no",frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},196:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n);function o({id:e,playlistId:t,aspectRatio:a=16/9}){const n=void 0!==t?"https://www.youtube.com/embed/videoseries?list="+t:"https://www.youtube.com/embed/"+e;return i.a.createElement("p",{style:{position:"relative",paddingBottom:1/a*100+"%"}},i.a.createElement("iframe",{src:n,frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},197:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(3),i=a(187),o=a(186),r=a(0),l=a.n(r);const s={lua:"Lua",ts:"TypeScript",tsx:"TypeScript",js:"JavaScript",jsx:"JavaScript"};function c({children:e,group:t,titles:a}){Object(n.a)("string"==typeof t||void 0===t);const r=l.a.Children.toArray(e).map((e,t)=>{var n,i,o,r;const l=null!==(n=null===(i=e.props.children.props.className)||void 0===i?void 0:i.replace(/language-/,""))&&void 0!==n?n:"Tab "+(t+1);return{id:t,languageName:null!==(o=null!==(r=(void 0!==a&&a.length>0?a.split("|"):[])[t])&&void 0!==r?r:s[l])&&void 0!==o?o:l,element:e}});return l.a.createElement(o.a,{groupId:void 0!==t?"multi-code-block-"+t:void 0,defaultValue:r[0].id,values:r.map(({id:e,languageName:t})=>({value:e,label:t}))},r.map(({id:e,element:t})=>l.a.createElement(i.a,{key:e,value:e},t)))}},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(191),i=a(0),o=a.n(i);function r({path:e,controls:t=!1}){return o.a.createElement("video",{width:"100%",height:"100%",autoPlay:!0,muted:!0,loop:!0,controls:t},o.a.createElement("source",{src:Object(n.a)(e),type:"video/mp4"}))}}}]);