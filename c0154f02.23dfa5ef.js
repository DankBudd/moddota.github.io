(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{163:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return p}));var n=a(2),i=(a(0),a(192)),o=(a(184),a(185),a(193),a(194),a(195),a(196));const r={title:"Typescript Introduction",author:"Shush",steamId:76561197994333650,date:"02.12.2020"},c={id:"scripting/Typescript/typescript-introduction",isDocsHomePage:!1,title:"Typescript Introduction",description:"Typescript is a powerful tool that we can use to improve our ability to properly script files for Dota 2. Using tstl (Typescript To Lua), it automatically generates a lua file for the game to use for each file you're working on - this process is completely automatic from the moment it starts up.",source:"@site/_articles/scripting/Typescript/typescript-introduction.md",permalink:"/scripting/Typescript/typescript-introduction",editUrl:"https://github.com/ModDota/moddota.github.io/edit/source/_articles/scripting/Typescript/typescript-introduction.md",sidebar:"tutorials",previous:{title:"Scripting Introduction",permalink:"/scripting-introduction"},next:{title:"Abilities in Typescript",permalink:"/scripting/Typescript/typescript-ability"}},s=[{value:"Pros anc Cons for using Typescript",id:"pros-anc-cons-for-using-typescript",children:[]},{value:"Setting Up TypeScript",id:"setting-up-typescript",children:[]},{value:"Creating a Typescript-based addon in Dota",id:"creating-a-typescript-based-addon-in-dota",children:[]},{value:"Typescript Addon Structure",id:"typescript-addon-structure",children:[]},{value:"Updating Your Addon",id:"updating-your-addon",children:[]},{value:"Activating The Watcher",id:"activating-the-watcher",children:[]},{value:"Normalized types",id:"normalized-types",children:[]},{value:"Integrated Examples",id:"integrated-examples",children:[]},{value:"Generated Types",id:"generated-types",children:[]},{value:"Dedicated Typescript Channel in Moddota Discord",id:"dedicated-typescript-channel-in-moddota-discord",children:[]},{value:"What&#39;s Next?",id:"whats-next",children:[]}],l={rightToc:s};function p({components:e,...t}){return Object(i.b)("wrapper",Object(n.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Typescript is a powerful tool that we can use to improve our ability to properly script files for Dota 2. Using tstl (Typescript To Lua), it automatically generates a lua file for the game to use for each file you're working on - this process is completely automatic from the moment it starts up."),Object(i.b)("p",null,"Typescript is more strict compared to lua, will use types to enforce certain functionalities, and will immediately alert you if you do something that doesn't make sense to it, and will show an error until you fix it. For instance, doing ",Object(i.b)("inlineCode",{parentName:"p"},"GetStrength()")," on an ability doesn't make sense."),Object(i.b)("p",null,"Typescript can work well with most editors using plugins, however, ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://code.visualstudio.com/"}),"VSCode")," is recommended as it comes with Typescript support built in, and is a very powerful editor."),Object(i.b)(o.a,{path:"videos/ts_example.mp4",controls:"true",mdxType:"StaticVideo"}),Object(i.b)("h3",{id:"pros-anc-cons-for-using-typescript"},"Pros anc Cons for using Typescript"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Pros:")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Enforces types, prevents you from using irrelevant functions."),Object(i.b)("li",{parentName:"ul"},"Typescript is much more similar to most languages such as C#, Java, Javascript, and C (compared to lua)."),Object(i.b)("li",{parentName:"ul"},"Auto-complete that will only show API functions that match the type being called."),Object(i.b)("li",{parentName:"ul"},"Saves a ton of time by immediately finding logical errors in code, instead of having to find them in-game (sometimes as edge cases which may not be found during local testing)."),Object(i.b)("li",{parentName:"ul"},"Tremendous support of Typescript in the web (e.g. Stack Overflow) for common Typescript questions."),Object(i.b)("li",{parentName:"ul"},"Typescript itself comes with very powerful built-in functionalities and types, such as Sets, Maps, and array functionalities. Additionally, it supports class and types inheritance."),Object(i.b)("li",{parentName:"ul"},"Typescript is used for both lua and Javascript, so you never have to switch between scripting languages; Typescript will convert it to the correct language for you."),Object(i.b)("li",{parentName:"ul"},"Auto-complete for various arguments in APIs, such as a built-in event list."),Object(i.b)("li",{parentName:"ul"},"Built-in enums and interfaces to make finding a specific Dota-based value extremely fast and easy."),Object(i.b)("li",{parentName:"ul"},"Very easy to update new APIs when Valve (eventually) releases new functions."),Object(i.b)("li",{parentName:"ul"},"Symlinks your Dota 2 folder for you as part of the setup, so you can easily integrate your changes into github, should you choose to do so.")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Cons:")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Takes some time to set up for the first time."),Object(i.b)("li",{parentName:"ul"},"Some rare types may be incorrect. Those can be updated manually when the need arises."),Object(i.b)("li",{parentName:"ul"},"Sometimes, requires more of a set up for specific game logic, such as interfaces, typeguards and casts (this is again due to the nature of typed language)."),Object(i.b)("li",{parentName:"ul"},"Not very convenient to integrate for ongoing projects, though it can still work."),Object(i.b)("li",{parentName:"ul"},"Referencing code or guides that are written in lua might not be easy in Typescript due to differences between how the languages work.")),Object(i.b)("h3",{id:"setting-up-typescript"},"Setting Up TypeScript"),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"This guide assumes your operating system is Windows. If you have other operating systems, please contact us in the Typescript channel in the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#dedicated-typescript-channel-in-moddota-discord"}),"Discord")," below."))),Object(i.b)("p",null,"First, since Typescript uses NodeJS, so it must be installed on your computer. You can download NodeJS from ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://nodejs.org/en/"}),"here"),". Simply choose the recommended version, which is the latest stable version. Download and install it with its default configuration."),Object(i.b)("p",null,"Next, navigate to the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/ModDota/TypeScriptAddonTemplate"}),"Typescript template"),". This template has most of the files of a new addon configured for you, along with Typescript support.\nThere are two versions to use the template:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Without GitHub: if you're not planning to put your code in github, clone the above template. See below for explanation how.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"With GitHub: if you do plan on put your code in github, click on the ",Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"/images/typescript-tutorial/templateButton.png",alt:"Use this template"})),' button located in the top right of the github page. This will create a new github repository that uses the template under your name. Fill in the repository name, description, and whether it is public or private. You can leave "Include all branches" unchecked, then click "Create repository from template". When the new repository is created, clone it. See below for explanation how. For those unfamiliar with github, I recommend using a Github GUI, such as ',Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://desktop.github.com/"}),"Github Desktop"),"."))),Object(i.b)("p",null,'Cloning the repository meaning making a copy of it on your computer. This can be done by clicking on "Code", then on "Download Zip", as shown here:'),Object(i.b)("p",null,Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"/images/typescript-tutorial/cloneRepo.png",alt:"Cloning from Github"}))),Object(i.b)("p",null,'You can then extract the ZIP anywhere you want. However, do NOT put it inside your Dota 2 folder. For example, I placed it in my Desktop, inside a folder named "Dota 2 custom games". The folder that becomes extracted is named ',Object(i.b)("inlineCode",{parentName:"p"},"TypeScriptAddonTemplate-master"),", so just rename the folder to more correctly reflect your custom game's name. For the sake of this tutorial, I named it ",Object(i.b)("inlineCode",{parentName:"p"},"typescript-example"),"."),Object(i.b)("h3",{id:"creating-a-typescript-based-addon-in-dota"},"Creating a Typescript-based addon in Dota"),Object(i.b)("p",null,"Now that we have the files on our computer, we can set up a new addon game very quickly. There are a few steps remaining before doing so:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Go into your folder, in my case ",Object(i.b)("inlineCode",{parentName:"li"},"typescript-example"),"."),Object(i.b)("li",{parentName:"ul"},"Open ",Object(i.b)("inlineCode",{parentName:"li"},"package.json")," with any text editor. You'll notice that the ",Object(i.b)("inlineCode",{parentName:"li"},"name")," field is an empty string. Add the name of the custom game. For example, I named it ",Object(i.b)("inlineCode",{parentName:"li"},"typescript_tutorial"),". The field should look like this:")),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),'"name": "typescript_tutorial",\n')),Object(i.b)("p",null,"Save and close the file."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Make sure there is no folder with that name inside both the ",Object(i.b)("inlineCode",{parentName:"p"},"game/dota_addons")," and ",Object(i.b)("inlineCode",{parentName:"p"},"content/dota_addons")," of your Dota 2 game folder. The installation process will create those folders for you. If the folders exist, delete them first, or change the name in ",Object(i.b)("inlineCode",{parentName:"p"},"package.json")," to something else."))),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"While inside the folder with the ",Object(i.b)("inlineCode",{parentName:"li"},"package.json")," file you just edited, click on the address bar, so the path to your folder becomes highlighted and editable as text. It should look like this:")),Object(i.b)("p",null,Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"/images/typescript-tutorial/clickAddressBar.png",alt:"Click on path"}))),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},'While the path is highlighted, delete the text and instead type "cmd" and press Enter. This will open the Command Shell with the folder path shown right before your input cursor.')),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Type ",Object(i.b)("inlineCode",{parentName:"p"},"npm install")," and press enter. You'll see a loading bar, which should take up to a minute to complete. If it was successful, you should see that your ",Object(i.b)("inlineCode",{parentName:"p"},"game")," and ",Object(i.b)("inlineCode",{parentName:"p"},"content"),' folders now have a "shortcut" icon next to them. They\'re now symlinked to your Dota 2 folder. The ',Object(i.b)("inlineCode",{parentName:"p"},"typescript_tutorial")," folder now exists for both ",Object(i.b)("inlineCode",{parentName:"p"},"game/dota_addons/")," and ",Object(i.b)("inlineCode",{parentName:"p"},"content/dota_addons")," in your Dota 2 folder."))),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Symlinked folders are copies of each other, where any action done on one is also applied on the other folder. Therefore, you can simply work on your conveniently placed folder (",Object(i.b)("inlineCode",{parentName:"p"},"Desktop/Dota 2 custom games/typescript-example")," in my example), and it will automatically be applied on the Steam Dota 2 folder as well."))),Object(i.b)("h3",{id:"typescript-addon-structure"},"Typescript Addon Structure"),Object(i.b)("p",null,"Most of the structure for Typescript is identical to a standard Dota addon, such as having ",Object(i.b)("inlineCode",{parentName:"p"},"scripts/vscripts/")," folder. However, there are a few additional files responsible for making Typescript identify and work with Dota 2 API, and in the custom game in general."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"The structure inside the ",Object(i.b)("inlineCode",{parentName:"p"},"/game/")," and ",Object(i.b)("inlineCode",{parentName:"p"},"/content/")," folders can be changed and designed as you wish; however, you will have to make sure all imports still point to the correct path. You should not change folders in the root folder unless you know what you're doing."))),Object(i.b)("p",null,"Most of those files can be left alone, but it's good to know what they do. Most of those files are located at ",Object(i.b)("inlineCode",{parentName:"p"},"/game/vscripts/")," folder:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"tsconfig.json"),": Configures how Typescript works in the lua portion of the project.")),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"The same file exists in the ",Object(i.b)("inlineCode",{parentName:"p"},"/content/panorama/scripts/custom_game")," folder for Typescript configuration rules for panorama."))),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vscripts/lib/dota_ts_adapter.ts"),": Responsible for registering various common classes, such as abilities, items, and modifiers."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vscripts/lib/tstl-utils.ts"),": Responsible for the typescript-to-lua translation."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vscripts/lib/timers.lua")," and ",Object(i.b)("inlineCode",{parentName:"li"},"vscripts/lib/timers.d.ts"),": The common Timers library is already included in default in its lua form, with timers.d.ts including an interface to allow using the Timers library in Typescript.")),Object(i.b)("h3",{id:"updating-your-addon"},"Updating Your Addon"),Object(i.b)("p",null,"Occasionally, Valve will release new API or changes to existing API, usually at events and major patches. Your Typescript project will not automatically adjust to those changes as they need to be filed and typed first, which is usually done by the people responsible for the Typescript template. However, when a new update is announced for Typescript for Dota 2, you can easily update your project. There are two ways to do so:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Using VSCode's terminal: If your chosen editor is VSCode and it has your project's folder loaded, click on Terminal -> New Terminal. A new terminal will open. Type ",Object(i.b)("inlineCode",{parentName:"p"},"npm update")," and press Enter.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Using cmd: Open cmd from your project's root directory (",Object(i.b)("inlineCode",{parentName:"p"},"Desktop/Dota 2 custom games/typescript-example")," in my example), then type ",Object(i.b)("inlineCode",{parentName:"p"},"npm update")," and press enter."))),Object(i.b)("p",null,"The project will update to the newest version automatically."),Object(i.b)("h3",{id:"activating-the-watcher"},"Activating The Watcher"),Object(i.b)("p",null,"In order for your files to compile and have their compiled lua or javascript equivalents, it is required to activate the watcher. The watcher watches over all changes done on your files in the project, and immediately produces a lua or javascript equivalent, assuming the file compiled with no errors. There are three ways to activate the watcher:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Using VSCode's terminal: If you're using VSCode and it has your project's folder loaded, click on Terminal -> Run Build Task. Alternatively, you can use the hotkey for it, default ",Object(i.b)("inlineCode",{parentName:"p"},"Ctrl+Shift+B"),".")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Using cmd: Open cmd from your project's root directory (",Object(i.b)("inlineCode",{parentName:"p"},"Desktop/Dota 2 custom games/typescript-example")," in my example), then type ",Object(i.b)("inlineCode",{parentName:"p"},"npm run dev")," and press enter.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Other editors: Depending on the editor, the editor might have their own method to invoke a Run Build Task command; check the editor's documentation for more details."))),Object(i.b)("h3",{id:"normalized-types"},"Normalized types"),Object(i.b)("p",null,"When dumping functions from the game, it comes with predefined types. Some of those types are not very convenient to work with, so instead, we can use the normalized types instead. Those normalized types change enums slightly, and their purpose is to increase readability of your code."),Object(i.b)("p",null,"Examples of how types change after normalization:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"dotaunitorder_t.DOTA_UNIT_ORDER_ATTACK_MOVE")," -> ",Object(i.b)("inlineCode",{parentName:"li"},"UnitOrder.ATTACK_MOVE")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"EDOTA_ModifyGold_Reason.DOTA_ModifyGold_Unspecified")," -> ",Object(i.b)("inlineCode",{parentName:"li"},"ModifyGoldReason.UNSPECIFIED")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"ParticleAttachment_t.PATTACH_CUSTOMORIGIN")," -> ",Object(i.b)("inlineCode",{parentName:"li"},"ParticleAttachment.CUSTOMORIGIN"))),Object(i.b)("p",null,"As the examples show, it is a lot more readable after the normalization.\nThe process is simple and only needs to be done once."),Object(i.b)("p",null,"Navigate to your project's ",Object(i.b)("inlineCode",{parentName:"p"},"/game/scripts/vscripts")," folder, then open ",Object(i.b)("inlineCode",{parentName:"p"},"tsconfig.json")," in any text editor. Locate ",Object(i.b)("inlineCode",{parentName:"p"},'"types": ["dota-lua-types"],'),", and change it to ",Object(i.b)("inlineCode",{parentName:"p"},'"types": ["dota-lua-types/normalized"]'),". Save the file and close it."),Object(i.b)("h3",{id:"integrated-examples"},"Integrated Examples"),Object(i.b)("p",null,"Per writing this tutorial, the Typescript template comes with a few examples to show how game logic is done in Typescript. I recommend keeping those files for reference until you're more comfortable with Typescript.\nThe examples are:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"In ",Object(i.b)("inlineCode",{parentName:"li"},"game/scripts/vscripts/abilities/heroes/meepo/earthbind_ts_example.ts"),": A custom Meepo's Earthbind ability example."),Object(i.b)("li",{parentName:"ul"},"In ",Object(i.b)("inlineCode",{parentName:"li"},"game/scripts/vscripts/modifiers/modifier_panic.ts"),": A custom modifier that restricts commands and orders the parent to move to a random position near it."),Object(i.b)("li",{parentName:"ul"},"In ",Object(i.b)("inlineCode",{parentName:"li"},"game/scripts/vscripts/GameMode.ts"),": Game mode logic examples, such as setting the maximum players for each team to 3. Timer and event listening examples are also shown here.")),Object(i.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"If you normalized the types as shown in the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#normalized-types"}),"Normalized types")," section, the examples will no longer compile. You'll have to change them to their normalized forms, if you plan to use them, or you can comment them out to reference them later on."))),Object(i.b)("p",null,"Note that the examples apply on your addon immediately, which can cause weird behaviors. You can disable those examples:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"In ",Object(i.b)("inlineCode",{parentName:"li"},"/game/vscripts/GameMode.ts"),", comment the code inside the ",Object(i.b)("inlineCode",{parentName:"li"},"OnNpcSpawned")," function. It gives all units spawned a custom Meepo's Earthbind and a custom modifier that causes them to lose control."),Object(i.b)("li",{parentName:"ul"},"In ",Object(i.b)("inlineCode",{parentName:"li"},"/game/vscripts/GameMode.ts"),", comment the conde inside the ",Object(i.b)("inlineCode",{parentName:"li"},"configure")," function. It sets each team to have 3 maximum players, along with some pick screen values."),Object(i.b)("li",{parentName:"ul"},"In ",Object(i.b)("inlineCode",{parentName:"li"},"/game/vscripts/GameMode.ts"),", comment the conde inside the ",Object(i.b)("inlineCode",{parentName:"li"},"OnStateChange")," function. It adds bots to the enemy team."),Object(i.b)("li",{parentName:"ul"},"In ",Object(i.b)("inlineCode",{parentName:"li"},"/content/panorama/scripts/custom_game/manifest.ts"),", comment all code inside it. It causes all HUD panels to be hidden by default when loading the game.")),Object(i.b)("h3",{id:"generated-types"},"Generated Types"),Object(i.b)("p",null,"An additional important folder is located at ",Object(i.b)("inlineCode",{parentName:"p"},"/node_modules/dota-lua-types/types/"),". This folder holds files that are responsible for all the API that exists for Dota 2 custom games. You can modify this file if you want. However, note that when updating the project, those files would be updated as well, effectively removing your changes. In addition, those are ignored in your Github, so others will not see your changes."),Object(i.b)("h3",{id:"dedicated-typescript-channel-in-moddota-discord"},"Dedicated Typescript Channel in Moddota Discord"),Object(i.b)("p",null,"We have a dedicated Typescript channel in our ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://discord.gg/ZyHg6T9sTd"}),"moddota Discord")," for every Typescript related question. Feel free to join and ask anything and we'll be happy to assist."),Object(i.b)("h3",{id:"whats-next"},"What's Next?"),Object(i.b)("p",null,"Check out the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/scripting/Typescript/typescript-introduction"}),"Abilities in Typescript")," tutorial, which will show how to set up and code a basic ability to use in the game."))}p.isMDXComponent=!0},184:function(e,t,a){"use strict";var n=a(0),i=a.n(n),o=a(191),r=a(188),c=a(90),s=a.n(c);const l=37,p=39;t.a=function(e){const{block:t,children:a,defaultValue:c,values:d,groupId:u}=e,{tabGroupChoices:m,setTabGroupChoices:b}=Object(o.a)(),[h,y]=Object(n.useState)(c);if(null!=u){const e=m[u];null!=e&&e!==h&&d.some(t=>t.value===e)&&y(e)}const f=e=>{y(e),null!=u&&b(u,e)},O=[];return i.a.createElement("div",null,i.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(r.a)("tabs",{"tabs--block":t})},d.map(({value:e,label:t})=>i.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":h===e,className:Object(r.a)("tabs__item",s.a.tabItem,{"tabs__item--active":h===e}),key:e,ref:e=>O.push(e),onKeyDown:e=>((e,t,a)=>{switch(a.keyCode){case p:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case l:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(O,e.target,e),onFocus:()=>f(e),onClick:()=>f(e)},t))),i.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter(e=>e.props.value===h)[0]))}},185:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){return i.a.createElement("div",null,e.children)}},186:function(e,t,a){"use strict";var n=a(0),i=a(34);t.a=function(){return Object(n.useContext)(i.a)}},187:function(e,t,a){"use strict";function n(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}a.d(t,"a",(function(){return n}))},188:function(e,t,a){"use strict";function n(e){var t,a,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(i&&(i+=" "),i+=a);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,a=0,i="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}},189:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(186),i=a(187);function o(e,{forcePrependBaseUrl:t=!1,absolute:a=!1}={}){const{siteConfig:{baseUrl:o="/",url:r}={}}=Object(n.a)();if(!e)return e;if(t)return o+e;if(!Object(i.a)(e))return e;const c=o+e.replace(/^\//,"");return a?r+c:c}},190:function(e,t,a){"use strict";var n=a(0);const i=Object(n.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=i},191:function(e,t,a){"use strict";var n=a(0),i=a(190);t.a=function(){return Object(n.useContext)(i.a)}},192:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return b}));var n=a(0),i=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=i.a.createContext({}),p=function(e){var t=i.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},d=function(e){var t=p(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},m=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,r=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=n,b=d["".concat(r,".").concat(m)]||d[m]||u[m]||o;return a?i.a.createElement(b,c(c({ref:t},l),{},{components:a})):i.a.createElement(b,c({ref:t},l))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,r=new Array(o);r[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,r[1]=c;for(var l=2;l<o;l++)r[l]=a[l];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},193:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n);function o({id:e,aspectRatio:t=4/3,hd:a="0"}){return i.a.createElement("p",{style:{position:"relative",paddingBottom:1/t*100+"%"}},i.a.createElement("iframe",{src:`https://gfycat.com/ifr/${e}?hd=${a}`,scrolling:"no",frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},194:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),i=a.n(n);function o({id:e,playlistId:t,aspectRatio:a=16/9}){const n=void 0!==t?"https://www.youtube.com/embed/videoseries?list="+t:"https://www.youtube.com/embed/"+e;return i.a.createElement("p",{style:{position:"relative",paddingBottom:1/a*100+"%"}},i.a.createElement("iframe",{src:n,frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},195:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),i=a(185),o=a(184),r=a(0),c=a.n(r);const s={lua:"Lua",ts:"TypeScript",tsx:"TypeScript",js:"JavaScript",jsx:"JavaScript"};function l({children:e,group:t,titles:a}){Object(n.a)("string"==typeof t||void 0===t);const r=c.a.Children.toArray(e).map((e,t)=>{var n,i;const o=e.props.children.props.className.replace(/language-/,"");return{language:o,languageName:null!==(n=null!==(i=(void 0!==a&&a.length>0?a.split("|"):[])[t])&&void 0!==i?i:s[o])&&void 0!==n?n:o,element:e}});return c.a.createElement(o.a,{groupId:void 0!==t?"multi-code-block-"+t:void 0,defaultValue:r[0].language,values:r.map(({language:e,languageName:t})=>({value:e,label:t}))},r.map(({language:e,element:t})=>c.a.createElement(i.a,{key:e,value:e},t)))}},196:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(189),i=a(0),o=a.n(i);function r({path:e,controls:t=!1}){return o.a.createElement("video",{width:"100%",height:"100%",autoPlay:!0,muted:!0,loop:!0,controls:t},o.a.createElement("source",{src:Object(n.a)(e),type:"video/mp4"}))}}}]);