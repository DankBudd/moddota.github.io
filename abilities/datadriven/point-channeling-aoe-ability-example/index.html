<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.55">
<title data-react-helmet="true">Point Channeling AoE Ability Example | ModDota</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Point Channeling AoE Ability Example | ModDota"><meta data-react-helmet="true" name="description" content="Here I&#x27;ll explain a method to do this type of abilities effectively, based on this Earthquake Example:"><meta data-react-helmet="true" property="og:description" content="Here I&#x27;ll explain a method to do this type of abilities effectively, based on this Earthquake Example:"><meta data-react-helmet="true" property="og:url" content="https://moddota.com/abilities/datadriven/point-channeling-aoe-ability-example"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://moddota.com/abilities/datadriven/point-channeling-aoe-ability-example"><link rel="stylesheet" href="/styles.8da0ef93.css">
<link rel="stylesheet" href="/main.0665fc68.css">
<link rel="preload" href="/styles.1ae2fd6e.js" as="script">
<link rel="preload" href="/runtime~main.6996e9cb.js" as="script">
<link rel="preload" href="/main.de1b4b90.js" as="script">
<link rel="preload" href="/1.5eeca486.js" as="script">
<link rel="preload" href="/2.d362570b.js" as="script">
<link rel="preload" href="/78.2212b05f.js" as="script">
<link rel="preload" href="/1be78505.2d1c0081.js" as="script">
<link rel="preload" href="/ec1ed54d.f87d6f11.js" as="script">
<link rel="preload" href="/b81dbe0f.c134dc48.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo-80x80.png"><strong class="navbar__title">ModDota</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Tutorials</a><a target="_blank" rel="noopener noreferrer" href="https://dota.tools/vscripts/" class="navbar__item navbar__link">Lua API</a><a target="_blank" rel="noopener noreferrer" href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" class="navbar__item navbar__link">Panorama API</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://discord.gg/gRmZgvz" class="navbar__item navbar__link">Discord</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo-80x80.png"><strong class="navbar__title">ModDota</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/">Tutorials</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://dota.tools/vscripts/" class="menu__link">Lua API</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" class="menu__link">Panorama API</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://discord.gg/gRmZgvz" class="menu__link">Discord</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1jis"><div class="docSidebarContainer_1kjN"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/scripting-introduction">Scripting Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Abilities, items, modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/ability-keyvalues">Ability KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/item-keyvalues">Item KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/the-importance-of-abilityspecial-values">The importance of AbilitySpecial values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/passing-abilityspecial-values-into-lua">Passing AbilitySpecial values into Lua</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/abilityduration-tooltips">AbilityDuration tooltips</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/simple-custom-ability">Simple Custom Ability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/creating-innate-abilities">Creating innate (available from level 1) abilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/making-any-ability-use-charges">Making any ability use charges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/calling-spells-with-setcursor">Calling Spells with SetCursor</a></li><li class="menu__list-item"><a class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers" target="_blank" rel="noreferrer noopener" tabindex="0" href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers">Lua Abilities and Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/lua-item-tutorial">Lua Item Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Lua Modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/1">Extending Hero/NPC API with lua modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/2">Linken&#x27;s Sphere &amp; Lotus Orb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/3">Transformations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/4">Enchanting Trees</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/reutilizing-built-in-modifiers">Reutilizing Built-In Modifiers</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Datadriven</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/datadriven-ability-events-modifiers">DataDriven Ability Events &amp; Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/all-about-the-target">All about the Target</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/channeling-animations">Channeling Animations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/invisibility-ability-example">Invisibility Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/illusion-ability-example">Illusion Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/rotate-ability-example">Rotate Ability Example</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/abilities/datadriven/point-channeling-aoe-ability-example">Point Channeling AoE Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/apply-hero-and-creep-modifier-durations">Apply Hero and Creep modifier durations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/abilities/datadriven/physics-ability-example-exorcism">Physics Ability Example - Exorcism</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Units</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-keyvalues">Unit KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-producing-buildings">Unit producing buildings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/creating-units-with-a-duration">Creating units with a duration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/adding-a-very-simple-ai-to-units">Adding a Very Simple AI to Units</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/simple-neutral-ai">Writing a simple AI for neutrals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/create-creature-attachwearable-blocks-directly-from-the-keyvalues">Create Creature AttachWearable blocks directly from the keyvalues</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scripting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/custom-mana-system">Custom Mana System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/item-restrictions-requirements">Item Restrictions &amp; Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/item-drop-system">Item Drop System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/making-a-rpg-like-looting-chest">Making a &quot;rpg-like&quot; looting chest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/scripted-shop-spawning">Scripted Shop Spawning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/lava-damage">Lava damage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/using-dota-filters">Using the order filter and other filters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/particle-attachment">Particle Attachment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/precache-fixing-and-avoiding-issues">Precache, Fixing and avoiding issues</a></li><li class="menu__list-item"><a class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables" target="_blank" rel="noreferrer noopener" tabindex="-1" href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables">Custom NetTables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Panorama UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama" target="_blank" rel="noreferrer noopener" tabindex="-1" href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/inclusive-panorama-ui">Inclusive Panorama UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/introduction-to-panorama-ui-with-typescript">Introduction to Panorama UI with TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/keybindings">Keybindings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/dotascenepanel">DOTAScenePanel</a></li><li class="menu__list-item"><a class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup" target="_blank" rel="noreferrer noopener" tabindex="-1" href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup">Custom Game Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/hiding-hud-with-sethudvisible">Hiding HUD with SetHUDVisible</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Assets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/asset-file-type-reference">Asset File Type Reference</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Maps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/hammer-tutorials">Hammer Tutorials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/making-skip-clip-blocks-out-of-models">Making skip/clip blocks out of models</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Models</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-custom-models">Importing custom models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/mdl-to-vmdl-conversion">MDL to VMDL Conversion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/adding-hitbox-to-models-without-a-bone">Adding Hitbox to Models without a Bone</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-models-and-using-material-editor">Importing models and using the material editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/exporting-models-and-materials-textures">Exporting Models and Materials/Textures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/custom-hero-models-materials-animations">Custom Hero models, materials and animations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Particles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/particle-basics">Particle Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/chaos-wave-particle">Chaos Wave Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/falling-cherry-blossom-petal-for-spring-mood-particle">Falling cherry blossom petal for spring mood particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/volcano-particle">Volcano Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/status-effects">Status Effects</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-sounds">Custom Sounds</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/extracting-and-compiling-vtex-files">Extracting and Compiling VTEX files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-minimap-icons">Custom Minimap Icons</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/useful-console-commands">Useful Console Commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/setting-up-your-addon-with-github">Setting Up Your Addon With GitHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/combining-kv-files-using-base">Combining KV files using #base</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/contribute">Contribute</a></li><li class="menu__list-item"><a class="menu__link" href="/tutorials">Tutorial overview</a></li></ul></div></div></div><main class="docMainContainer_3j_A"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><div style="margin-top:-10px;margin-bottom:10px"><div class="row"><div class="col"><a href="https://github.com/ModDota/moddota.github.io/edit/source/_articles/abilities/datadriven/point-channeling-aoe-ability-example.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Created on <time datetime="2015-01-27T00:00:00.000Z" class="docLastUpdatedAt_1gIo">1/27/2015</time> by <strong><a href="https://steamcommunity.com/profiles/76561198046984233">Noya</a></strong></small></em></div></div></div><header><h1 class="docTitle_cWlf">Point Channeling AoE Ability Example</h1></header><div class="markdown"><p>Here I&#x27;ll explain a method to do this type of abilities effectively, based on this Earthquake Example:</p><p style="position:relative;padding-bottom:75%"><iframe src="https://gfycat.com/ifr/CarefreeAridBantamrooster" scrolling="no" frameborder="0" allowfullscreen="" width="100%" height="100%" style="position:absolute;top:0;left:0"></iframe></p><p>We will review each important section of the code with comments on it, including how to get the particles to show.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="general-definition"></a>General Definition:<a aria-hidden="true" tabindex="-1" class="hash-link" href="#general-definition" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;far_seer_earthquake&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;BaseClass&quot;          &quot;ability_datadriven&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityTextureName&quot; &quot;far_seer_earthquake&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;MaxLevel&quot;           &quot;1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityType&quot;        &quot;DOTA_ABILITY_TYPE_ULTIMATE&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityBehavior&quot;   &quot;DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityUnitTargetTeam&quot; &quot;DOTA_UNIT_TARGET_TEAM_ENEMY&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityUnitTargetType&quot; &quot;DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityUnitDamageType&quot; &quot;DAMAGE_TYPE_MAGICAL&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityCastAnimation&quot;  &quot;ACT_DOTA_SPAWN&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityCastRange&quot;   &quot;1000&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityCastPoint&quot;   &quot;0.5&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityCooldown&quot;    &quot;90.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityManaCost&quot;    &quot;150&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityChannelTime&quot; &quot;25.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AOERadius&quot;          &quot;%radius&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//...</span></div></div></div></div></div><p>Target Team/Type and DamageType are just there to show the tooltips.</p><p><code>&quot;AbilityChannelTime&quot;</code> is a must have that will determine how much time the spell can be maintained. </p><p>Note the <code>&quot;AOERadius&quot;</code> which accepts a <code>&quot;%radius&quot;</code> from AbilitySpecial in its value. &quot;AOERadius&quot; needs <code>&quot;DOTA_ABILITY_BEHAVIOR_AOE&quot;</code> to display the AoE Circle.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="ability-special-block"></a>Ability Special block:<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ability-special-block" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;AbilitySpecial&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;01&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       &quot;var_type&quot;   &quot;FIELD_INTEGER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       &quot;duration&quot;   &quot;25&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;02&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;var_type&quot; &quot;FIELD_INTEGER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;building_damage_per_sec&quot;   &quot;50&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;03&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;var_type&quot;  &quot;FIELD_INTEGER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;radius&quot;   &quot;250&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;04&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;var_type&quot; &quot;FIELD_INTEGER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;movement_speed_slow_pct&quot;   &quot;-75&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;05&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;var_type&quot;  &quot;FIELD_FLOAT&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;wave_interval&quot; &quot;1.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>Nothing interesting except remarking that <code>&quot;%duration&quot;</code> <strong>cannot</strong> be used as a value for <code>&quot;AbilityChannelTime&quot;</code> (doing so makes it loop forever), so the ability will just refer to the duration and when changing the value, also change the channel time.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="precache-block"></a>Precache block:<a aria-hidden="true" tabindex="-1" class="hash-link" href="#precache-block" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;precache&quot; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;particle&quot;    &quot;particles/units/heroes/hero_leshrac/leshrac_split_earth.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;particle&quot;    &quot;particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;particle&quot;    &quot;particles/units/heroes/hero_earthshaker/temp_eruption_dirt.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;particle&quot;    &quot;particles/dire_fx/dire_lava_falling_rocks.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;particle&quot;    &quot;particles/units/heroes/hero_earthshaker/earthshaker_echoslam_start_fallback_mid.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;particle&quot; &quot;particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_echoslam_start_egset.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;soundfile&quot;   &quot;soundevents/game_sounds_heroes/game_sounds_leshrac.vsndevts&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>Has all the particles used and leshrac soundfile loaded. </p><p>Paths were copied directly from the asset browser, unmodified particles. I&#x27;ll explain each of its attachments when we get to them.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="spell-start"></a>Spell Start<a aria-hidden="true" tabindex="-1" class="hash-link" href="#spell-start" title="Direct link to heading">#</a></h3><p>When the cast point is complete, perform the following actions:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;OnSpellStart&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;RunScript&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ScriptFile&quot;    &quot;heroes/far_seer/earthquake.lua&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Function&quot;   &quot;EarthquakeStart&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;     &quot;POINT&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//...</span></div></div></div></div></div><p>This calls a very simple Lua script which creates a dummy unit to apply a thinker modifier which does the &quot;waves&quot;. </p><p>When using an <code>&quot;AbilityBehavior&quot; &quot;DOTA_ABILITY_BEHAVIOR_POINT&quot;</code>, you can pass the POINT targeted as an extra parameter to the function (it won&#x27;t be passed automatically, like CASTER or TARGET). This can be accessed as the <strong>target_points[1]</strong>
on the event.</p><p><strong>Lua</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">function EarthquakeStart( event )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- Variables</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local caster = event.caster</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local point = event.target_points[1]</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    caster.earthquake_dummy = CreateUnitByName(&quot;dummy_unit&quot;, point, false, caster, caster, caster:GetTeam())</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    event.ability:ApplyDataDrivenModifier(caster, caster.earthquake_dummy, &quot;modifier_earthquake_thinker&quot;, nil)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div><p>There is a Datadriven function to do something similar, <strong>&quot;CreateThinker&quot;</strong>, but because we need to stop the ability from casting the waves if the hero stops channeling the ability, its better to have the dummy &quot;indexed&quot; on the <em>caster handle</em> so that we can run another script to remove it without the need to do a search for it.</p><p>Back to the dummy unit, this is its definition:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;dummy_unit_vulnerable&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;BaseClass&quot;            &quot;npc_dota_creature&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttackCapabilities&quot;   &quot;DOTA_UNIT_CAP_NO_ATTACK&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;VisionDaytimeRange&quot;   &quot;0&quot;  </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;VisionNighttimeRange&quot;  &quot;0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;UnitRelationshipClass&quot; &quot;DOTA_NPC_UNIT_RELATIONSHIP_TYPE_WARD&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;MovementCapabilities&quot;  &quot;DOTA_UNIT_CAP_MOVE_NONE&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Ability1&quot;             &quot;dummy_passive_vulnerable&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>And the passive ability:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;dummy_passive_vulnerable&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;BaseClass&quot;       &quot;ability_datadriven&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AbilityBehavior&quot; &quot;DOTA_ABILITY_BEHAVIOR_PASSIVE&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Modifiers&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;dummy_modifier&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Passive&quot; &quot;1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;States&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_NO_UNIT_COLLISION&quot;  &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_NO_TEAM_MOVE_TO&quot;    &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_NO_TEAM_SELECT&quot;     &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_COMMAND_RESTRICTED&quot; &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_ATTACK_IMMUNE&quot;      &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_MAGIC_IMMUNE&quot;       &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_NOT_ON_MINIMAP&quot;     &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_UNSELECTABLE&quot;       &quot;MODIFIER_STATE_VALUE_ENABLED&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;MODIFIER_STATE_NO_HEALTH_BAR&quot;      &quot;MODIFIER_STATE_VALUE_ENABLED&quot; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p><strong>IMPORTANT:</strong> The dummy doesn&#x27;t have <code>MODIFIER_STATE_INVULNERABLE</code> enabled, because that state is a bitch, usually preventing from applying modifiers even if they have <code>MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE</code>. That&#x27;s why I called it _vulnerable even tho it can&#x27;t take damage.</p><hr><p>Back to the OnSpellStart, 2 more actions:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;OnSpellStart&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{   //...</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;DestroyTrees&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot; &quot;POINT&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Radius&quot;    &quot;%radius&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;DelayedAction&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Delay&quot; &quot;0.5&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Action&quot; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;ApplyModifier&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;ModifierName&quot;  &quot;modifier_earthquake_channelling&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;Target&quot; &quot;CASTER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }   </span></div><div class="token-line" style="color:#393A34"><span class="token plain"> }</span></div></div></div></div></div><p>First action will destroy the trees around the POINT targeted and the second action applies a modifier that takes care of the channeling animation, using the same method explained in the <a href="http://moddota.com/forums/discussion/77/channeling-animations">Channeling Animations Tutorial</a></p><p>Animation needs to start half a second later to sync with the damage, this is a matter of experimenting with the time frames.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="channel-finish"></a>Channel Finish<a aria-hidden="true" tabindex="-1" class="hash-link" href="#channel-finish" title="Direct link to heading">#</a></h3><p>When the ability finishes channeling either because the channel time has finished or it was cancelled, we need to stop the animation and the dummy thinker:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;OnChannelFinish&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;RunScript&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ScriptFile&quot;    &quot;heroes/far_seer/earthquake.lua&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Function&quot;   &quot;EarthquakeEnd&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    } </span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;RemoveModifier&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ModifierName&quot;  &quot;modifier_earthquake_channelling&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;       &quot;CASTER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    } </span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>The 2nd lua function is even shorter, only has 1 API call to instantly remove the dummy:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">function EarthquakeEnd( event )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local caster = event.caster</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    caster.earthquake_dummy:RemoveSelf()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="modifiers"></a>Modifiers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#modifiers" title="Direct link to heading">#</a></h3><p>Now lets move to the the Modifiers block, the first couple handles the animation:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;Modifiers&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;modifier_earthquake_channelling&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;IsHidden&quot;          &quot;1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ThinkInterval&quot;     &quot;1.0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;OverrideAnimation&quot; &quot;ACT_DOTA_KINETIC_FIELD&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;OnIntervalThink&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;ApplyModifier&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;ModifierName&quot;  &quot;modifier_channeling&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;Target&quot;       &quot;CASTER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;Duration&quot;     &quot;0.9&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            } </span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;modifier_channeling&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;IsHidden&quot;          &quot;1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;OverrideAnimation&quot; &quot;ACT_DOTA_KINETIC_FIELD&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//...</span></div></div></div></div></div><p>&quot;modifier_earthquake_thinker&quot; is the modifier applied in Lua to the dummy, and has the main logic for all the damage, particles, sounds and other effects needed. It has a lot bunch of actions, so I&#x27;ll break it up</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;modifier_earthquake_thinker&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Aura&quot;        &quot;modifier_eartquake_slow&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Aura_Radius&quot; &quot;%radius&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Aura_Teams&quot;  &quot;DOTA_UNIT_TARGET_TEAM_ENEMY&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Aura_Types&quot;  &quot;DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC&quot;  </span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//...</span></div></div></div></div></div><p>This constantly applies another modifier effect to all units around a radius of the targeted point, in this ability its a simple slow effect:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;modifier_eartquake_slow&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   &quot;IsDebuff&quot;   &quot;1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   &quot;Properties&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       &quot;MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE&quot; &quot;%movement_speed_slow_pct&quot; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><hr><p>Back to the &quot;modifier_earthquake_thinker&quot;, we have to have actions on 2 instances: When the modifier is created, and then on each wave interval.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="main-modifier-created"></a>Main modifier created<a aria-hidden="true" tabindex="-1" class="hash-link" href="#main-modifier-created" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;OnCreated&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;FireSound&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;    &quot;Hero_Leshrac.Split_Earth&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;     &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Many simple particle attachments:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot; &quot;particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_echoslam_start_egset.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;           &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;    &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;    &quot;particles/dire_fx/dire_lava_falling_rocks.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;    &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;    &quot;particles/units/heroes/hero_leshrac/leshrac_pulse_nova.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//...</span></div></div></div></div></div><p>&quot;TARGET&quot; in all this scope will refer to the unit that has the modifier, i.e. the dummy.</p><p>I used one extra particle that needs to have the Control Point 1 attached to the target, else it will show on the middle of the map.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttachEffect&quot; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;           &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;       &quot;particles/units/heroes/hero_earth_spirit/espirit_spawn.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ControlPointEntities&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;TARGET&quot;    &quot;attach_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;TARGET&quot;    &quot;attach_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div></div></div></div></div><p>&quot;ControlPointEntities&quot; will set the CP0 to the origin of the dummy, and do the same for CP1.</p><p>To realize that the CP1 needs to be set else the particle will fail to display properly, this is the procedure:</p><ol><li><p>Open the particle system on the Particle Editor, double clicking on it (needs <strong>decompiled particles</strong>!) </p><p><img src="http://puu.sh/f61DF/2ed8e1c122.jpg" alt="img"></p></li><li><p>Select Control Point #1 on the Control Points List:</p><p><img src="http://puu.sh/f61JZ/8593db279d.png" alt="img"></p></li><li><p>Hold and drag the control point to somewhere else by clicking on the blue rectangle:</p><p><img src="http://puu.sh/f61MV/9d913ef133.jpg" alt="img"></p></li><li><p>Notice that there&#x27;s some dust that moved with the Control Point.</p><p><img src="http://puu.sh/f61pF/1c83b2e5cc.jpg" alt="img"></p></li></ol><p><strong>This means you need to set it!</strong> Else it will stay unattached and originate on the (0,0,0) position at the map.</p><hr><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="main-modifier-wave-interval-actions"></a>Main modifier wave interval actions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#main-modifier-wave-interval-actions" title="Direct link to heading">#</a></h4><p>Still following this? Great, it&#x27;s almost finished, only missing the <code>&quot;OnIntervalThink&quot;</code> actions which do the damage +effects every <code>&quot;wave_interval&quot;</code></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;ThinkInterval&quot; &quot;%wave_interval&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;OnIntervalThink&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Damage&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Center&quot; &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Radius&quot; &quot;%radius&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Teams&quot;  &quot;DOTA_UNIT_TARGET_TEAM_BOTH&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Types&quot;  &quot;DOTA_UNIT_TARGET_BUILDING&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Type&quot;   &quot;DAMAGE_TYPE_MAGICAL&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Damage&quot;    &quot;%building_damage_per_sec&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;FireSound&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;  &quot;Hero_Leshrac.Split_Earth&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;      &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Simple particle attachment</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;FireEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;       &quot;particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;           &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;FireEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;       &quot;particles/units/heroes/hero_earthshaker/temp_eruption_dirt.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;           &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }  </span></div><div class="token-line" style="color:#393A34"><span class="token plain">//...</span></div></div></div></div></div><p>There&#x27;s a couple of specific particle firing that need a separate explanation:</p><p>To find what each control point does, follow the same method as with the espirit_spawn.vpcf, but knowing this particles were designed for AoE effects, you should instead write radius-range numbers on the control points and see the effect on the particle editor.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;           &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;       &quot;particles/units/heroes/hero_leshrac/leshrac_split_earth.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ControlPoints&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;01&quot;    &quot;%radius 50 50&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    } </span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;           &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;       &quot;particles/units/heroes/hero_leshrac/leshrac_pulse_nova.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ControlPoints&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           &quot;01&quot; &quot;%radius 0 %radius&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot;           &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot; &quot;particles/units/heroes/hero_earthshaker/earthshaker_echoslam_start_fallback_mid.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ControlPoints&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;01&quot;    &quot;1 0 0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }   </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>Not gonna lie, it&#x27;s mostly trial and error and just a bit of reading whatever the PET info has to enlighten you:</p><p><img src="http://puu.sh/f62Ph/2d34e46b46.png" alt="img"></p><hr><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="complete-code-can-be-found-at-the-following-links"></a>Complete code can be found at the following links:<a aria-hidden="true" tabindex="-1" class="hash-link" href="#complete-code-can-be-found-at-the-following-links" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="datadriven"></a><a href="https://github.com/MNoya/DotaCraft/blob/master/game/dota_addons/dotacraft/scripts/npc/abilities/heroes/far_seer_earthquake.txt">DataDriven</a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#datadriven" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="lua"></a><a href="https://github.com/MNoya/DotaCraft/blob/master/scripts/vscripts/heroes/far_seer/earthquake.lua">Lua</a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#lua" title="Direct link to heading">#</a></h3><ul><li><p>For more examples of this style of ability, check:</p><ul><li><a href="https://github.com/MNoya/DotaCraft/blob/master/scripts/npc/abilities/archmage_blizzard.txt">Blizzard</a></li><li><a href="https://github.com/MNoya/DotaCraft/blob/master/scripts/npc/abilities/pit_lord_rain_of_fire.txt">Rain of Fire</a></li><li><a href="https://github.com/MNoya/DotaCraft/blob/master/scripts/npc/abilities/naga_sea_witch_tornado.txt">Tornado</a></li></ul></li></ul><hr><p>If you find a way to improve this method or have any questions, leave them here.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/abilities/datadriven/rotate-ability-example"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Rotate Ability Example</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/abilities/datadriven/apply-hero-and-creep-modifier-durations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Apply Hero and Creep modifier durations »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_tVyB"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-definition" class="table-of-contents__link">General Definition:</a></li><li><a href="#ability-special-block" class="table-of-contents__link">Ability Special block:</a></li><li><a href="#precache-block" class="table-of-contents__link">Precache block:</a></li><li><a href="#spell-start" class="table-of-contents__link">Spell Start</a></li><li><a href="#channel-finish" class="table-of-contents__link">Channel Finish</a></li><li><a href="#modifiers" class="table-of-contents__link">Modifiers</a></li><li><a href="#complete-code-can-be-found-at-the-following-links" class="table-of-contents__link">Complete code can be found at the following links:</a></li><li><a href="#datadriven" class="table-of-contents__link">DataDriven</a></li><li><a href="#lua" class="table-of-contents__link">Lua</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/styles.1ae2fd6e.js"></script>
<script src="/runtime~main.6996e9cb.js"></script>
<script src="/main.de1b4b90.js"></script>
<script src="/1.5eeca486.js"></script>
<script src="/2.d362570b.js"></script>
<script src="/78.2212b05f.js"></script>
<script src="/1be78505.2d1c0081.js"></script>
<script src="/ec1ed54d.f87d6f11.js"></script>
<script src="/b81dbe0f.c134dc48.js"></script>
</body>
</html>