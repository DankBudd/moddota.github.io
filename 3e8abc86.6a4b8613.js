(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{120:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return l}));var n=a(2),o=(a(0),a(196));a(188),a(189),a(197),a(198),a(199),a(200);const r={title:"Bundling scripts with webpack",author:"ark120202"},i={id:"panorama/webpack",isDocsHomePage:!1,title:"Bundling scripts with webpack",description:"What is webpack and why should I use it?",source:"@site/_articles/panorama/webpack.md",permalink:"/panorama/webpack",editUrl:"https://github.com/ModDota/moddota.github.io/edit/source/_articles/panorama/webpack.md",sidebar:"tutorials",previous:{title:"Hiding HUD with SetHUDVisible",permalink:"/panorama/hiding-hud-with-sethudvisible"},next:{title:"React in Panorama",permalink:"/panorama/react"}},c=[{value:"What is webpack and why should I use it?",id:"what-is-webpack-and-why-should-i-use-it",children:[]},{value:"Getting Started",id:"getting-started",children:[{value:"Installation",id:"installation",children:[]},{value:"Basic Configuration",id:"basic-configuration",children:[]},{value:"Using external packages",id:"using-external-packages",children:[]}]},{value:"Loaders and TypeScript",id:"loaders-and-typescript",children:[{value:"TypeScript",id:"typescript",children:[]}]},{value:"XML layout files",id:"xml-layout-files",children:[]},{value:"Custom UI Manifest",id:"custom-ui-manifest",children:[]},{value:"CSS",id:"css",children:[{value:"SASS",id:"sass",children:[]}]}],s={rightToc:c};function l({components:e,...t}){return Object(o.b)("wrapper",Object(n.a)({},s,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"what-is-webpack-and-why-should-i-use-it"},"What is webpack and why should I use it?"),Object(o.b)("p",null,"Working on a large codebase there are two ways to organize your code. The first is just keeping all logic in a single ",Object(o.b)("inlineCode",{parentName:"p"},".js")," file, which quickly becomes hard to change and comprehend. The second approach is splitting code by functionality, creating multiple ",Object(o.b)("inlineCode",{parentName:"p"},".js")," files and including all of them in the layout file."),Object(o.b)("p",null,"While the second approach is preferred it also has some problems. Lack of explicit references to value definitions makes it hard to track where a certain values comes from, and, since all files use a single shared scope, naming conflicts can arise."),Object(o.b)("p",null,"In Lua these problems are solved with ",Object(o.b)("inlineCode",{parentName:"p"},"require")," function, which allows one script to include another. JavaScript also got an official solution to this problem in EcmaScript 2015 - modules."),Object(o.b)("p",null,"The concept of modules is pretty simple. First you need to mark things that you want to expose from a file with ",Object(o.b)("inlineCode",{parentName:"p"},"export")," keyword:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:'title="utils.js"',title:'"utils.js"'}),"export function sayHello() {\n  $.Msg('Hello, world!');\n}\n")),Object(o.b)("p",null,"And then you can ",Object(o.b)("inlineCode",{parentName:"p"},"import")," it in other file:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:'title="script.js"',title:'"script.js"'}),"import { sayHello } from './utils';\n\nsayHello();\n")),Object(o.b)("p",null,"However there's a catch: even though modules have been a part of JavaScript for a while, a lot of integrations (including Panorama) don't support it yet."),Object(o.b)("p",null,"That's where webpack is useful. webpack takes your modules, resolves dependencies and merges them into a single plain ",Object(o.b)("inlineCode",{parentName:"p"},".js")," file, that can be used in Panorama."),Object(o.b)("p",null,"In addition, webpack:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Gives you an access to ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.npmjs.com/"}),"a large ecosystem")," of JavaScript packages"),Object(o.b)("li",{parentName:"ul"},"Makes it easier to share code with other custom games, using custom packages and ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.npmjs.com/"}),"npm")),Object(o.b)("li",{parentName:"ul"},"Makes it possible to share code with other environments, such as Node.js-based web servers, or Lua side of your custom game built with ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://typescripttolua.github.io/"}),"TypeScriptToLua")),Object(o.b)("li",{parentName:"ul"},"Consolidates all your Panorama code transformation tools, such as TypeScript, Sass, and code generators")),Object(o.b)("h2",{id:"getting-started"},"Getting Started"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"You can skip most of the manual configuration in this guide by using a ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/ark120202/dota-templates/tree/webpack"}),"JavaScript")," or ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/ark120202/dota-templates/tree/webpack-typescript"}),"TypeScript")," templates."))),Object(o.b)("h3",{id:"installation"},"Installation"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Install ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://nodejs.org/"}),"Node.js"),"."),Object(o.b)("li",{parentName:"ol"},"Create a ",Object(o.b)("inlineCode",{parentName:"li"},"package.json")," file in the root directory of your project with this content:")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "scripts": {\n    "build": "node --preserve-symlinks node_modules/webpack/bin/webpack.js --config content/panorama/webpack.config.js",\n    "dev": "node --preserve-symlinks node_modules/webpack/bin/webpack.js --config content/panorama/webpack.config.js --watch"\n  }\n}\n')),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"We have to use ",Object(o.b)("inlineCode",{parentName:"p"},"node --preserve-symlinks node_modules/webpack/bin/webpack.js")," instead of just ",Object(o.b)("inlineCode",{parentName:"p"},"webpack")," because of reverse symlinking."))),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"Install dependencies by opening a command prompt and executing ",Object(o.b)("inlineCode",{parentName:"li"},"npm install -D webpack@next webpack-cli webpack-panorama"),".")),Object(o.b)("h3",{id:"basic-configuration"},"Basic Configuration"),Object(o.b)("p",null,"webpack requires you to pass a configuration file, telling it how to transform your files. As you might have noticed in the previous step, in this tutorial we'll store it in ",Object(o.b)("inlineCode",{parentName:"p"},"content/panorama/webpack.config.js"),"."),Object(o.b)("p",null,"Here's a basic configuration:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js",metastring:'title="content/panorama/webpack.config.js"',title:'"content/panorama/webpack.config.js"'}),"const path = require('path');\nconst { PanoramaTargetPlugin } = require('webpack-panorama');\n\n/** @type {import('webpack').Configuration} */\nmodule.exports = {\n  entry: {\n    hud: './hud/script.js',\n  },\n\n  mode: 'development',\n  context: path.resolve(__dirname, 'src'),\n  output: {\n    path: path.resolve(__dirname, 'scripts/custom_game'),\n  },\n\n  resolve: {\n    // Required because of reverse symlinking\n    symlinks: false,\n  },\n\n  plugins: [new PanoramaTargetPlugin()],\n};\n")),Object(o.b)("p",null,"Now let's create a few files for webpack to work on:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js",metastring:'title="content/panorama/src/hud/script.js"',title:'"content/panorama/src/hud/script.js"'}),"import { sayHello } from '../utils';\n\nsayHello();\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js",metastring:'title="content/panorama/src/utils.js"',title:'"content/panorama/src/utils.js"'}),"export function sayHello() {\n  $.Msg('Hello, world!');\n}\n")),Object(o.b)("p",null,"And layout files to make Panorama run our script:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:'title="content/panorama/layout/custom_game/hud.xml"',title:'"content/panorama/layout/custom_game/hud.xml"'}),'<root>\n  <scripts>\n    \x3c!-- highlight-next-line --\x3e\n    <include src="file://{resources}/scripts/custom_game/hud.js" />\n  </scripts>\n  <Panel />\n</root>\n')),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:'title="content/panorama/layout/custom_game/custom_ui_manifest.xml"',title:'"content/panorama/layout/custom_game/custom_ui_manifest.xml"'}),'<root>\n  <Panel>\n    \x3c!-- highlight-next-line --\x3e\n    <CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/hud.xml" />\n  </Panel>\n</root>\n')),Object(o.b)("p",null,"Now you can run ",Object(o.b)("inlineCode",{parentName:"p"},"npm run build")," in your terminal to build the project once, or ",Object(o.b)("inlineCode",{parentName:"p"},"npm run dev")," to make it rebuild the project every time you change your scripts."),Object(o.b)("p",null,"After building the project, webpack would output a ",Object(o.b)("inlineCode",{parentName:"p"},"content/panorama/scripts/custom_game/hud.js")," bundle."),Object(o.b)("h3",{id:"using-external-packages"},"Using external packages"),Object(o.b)("p",null,"Besides local script files, modules allow you to use code written by other developers."),Object(o.b)("p",null,"For example, let's add a popular utility library ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://lodash.com/"}),Object(o.b)("inlineCode",{parentName:"a"},"lodash")),"."),Object(o.b)("p",null,"First, you need to add it to your project using npm:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"npm install lodash\n")),Object(o.b)("p",null,"And then you can import it like any other module:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"import * as _ from 'lodash';\n\n$.Msg(_.uniq([1, 2, 1, 3, 1, 2])); // => [1,2,3]\n")),Object(o.b)("p",null,"Similarly you can use packages created specifically for Panorama, for example ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/panorama/react"}),Object(o.b)("inlineCode",{parentName:"a"},"react-panorama"))," or ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.npmjs.com/package/panorama-polyfill"}),Object(o.b)("inlineCode",{parentName:"a"},"panorama-polyfill")),"."),Object(o.b)("p",null,"You can find more packages built for Panorama using this search query: ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.npmjs.com/search?q=keywords%3Adota%2C%20panorama"}),"keywords:dota, panorama"),"."),Object(o.b)("h2",{id:"loaders-and-typescript"},"Loaders and TypeScript"),Object(o.b)("p",null,"webpack loaders are packages that process your files before webpack puts them into a bundle."),Object(o.b)("p",null,"One good example of a loader is ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.npmjs.com/package/babel-loader"}),Object(o.b)("inlineCode",{parentName:"a"},"babel-loader")),", which processes your code with Babel, allowing you to use newer JavaScript features, and non-standard syntax extensions, such as ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/panorama/react#JSX"}),"JSX"),"."),Object(o.b)("p",null,"First you need to install a few dependencies:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"npm install -D babel-loader @babel/core @babel/preset-react\n")),Object(o.b)("p",null,"Now you need to tell webpack when and how to use this loader, using ",Object(o.b)("inlineCode",{parentName:"p"},"module.rules")," configuration section:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-diff",metastring:'title="content/panorama/webpack.config.js"',title:'"content/panorama/webpack.config.js"'}),"  resolve: {\n    symlinks: false,\n  },\n\n+ module: {\n+   rules: [\n+     { test: /\\.js$/, loader: 'babel-loader', options: { presets: ['@babel/preset-react'] } },\n+   ],\n+ },\n\n  plugins: [new PanoramaTargetPlugin()],\n")),Object(o.b)("h3",{id:"typescript"},"TypeScript"),Object(o.b)("p",null,"Currently support for ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/panorama/introduction-to-panorama-ui-with-typescript"}),"TypeScript")," for Panorama cannot be provided just with a loader, because of a way referenced script files are processed. To resolve this you also need to use ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.npmjs.com/package/fork-ts-checker-webpack-plugin"}),Object(o.b)("inlineCode",{parentName:"a"},"fork-ts-checker-webpack-plugin")),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"npm install -D typescript ts-loader fork-ts-checker-webpack-plugin\nnpm install panorama-types\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-diff",metastring:'title="content/panorama/webpack.config.js"',title:'"content/panorama/webpack.config.js"'}),"+const ForkTsCheckerWebpackPlugin = require(\"fork-ts-checker-webpack-plugin\");\n\nmodule.exports = {\n  entry: {\n-   hud: './hud/script.js',\n+   hud: './hud/script.ts',\n  },\n\n  resolve: {\n+   extensions: ['.ts', '.tsx', '...'],\n    symlinks: false,\n  },\n\n+ module: {\n+   rules: [\n+     { test: /\\.tsx?$/, loader: 'ts-loader', options: { transpileOnly: true } },\n+   ],\n+ },\n\n  plugins: [\n    new PanoramaTargetPlugin(),\n+   new ForkTsCheckerWebpackPlugin({\n+     typescript: {\n+       configFile: path.resolve(__dirname, \"tsconfig.json\"),\n+     },\n+   }),\n  ],\n};\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json",metastring:'title="content/panorama/tsconfig.json"',title:'"content/panorama/tsconfig.json"'}),'{\n  "include": ["src"],\n  "compilerOptions": {\n    "target": "es2017",\n    "lib": ["es2017"],\n    "types": ["panorama-types"],\n    "moduleResolution": "node",\n    "strict": true\n  }\n}\n')),Object(o.b)("h2",{id:"xml-layout-files"},"XML layout files"),Object(o.b)("p",null,"In the previous steps webpack have been used only for script assets. This isn't perfect, because you have to manually keep entry points in sync, directory structure isn't centralized, and you can't use webpack for .css asset processing."),Object(o.b)("p",null,"The solution is to let webpack take care of all your Panorama files."),Object(o.b)("p",null,"And modify ",Object(o.b)("inlineCode",{parentName:"p"},"webpack.config.js")," like that:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-diff",metastring:'title="content/panorama/webpack.config.js"',title:'"content/panorama/webpack.config.js"'}),"const path = require('path');\nconst { PanoramaTargetPlugin } = require('webpack-panorama');\n\n/** @type {import('webpack').Configuration} */\nmodule.exports = {\n  entry: {\n-   hud: './hud/script.js',\n+   hud: { filename: 'hud/layout.xml', import: './hud/layout.xml' },\n  },\n\n  mode: 'development',\n  context: path.resolve(__dirname, 'src'),\n  output: {\n    path: path.resolve(__dirname, 'layout/custom_game'),\n+   publicPath: 'file://{resources}/layout/custom_game/',\n  },\n\n  resolve: {\n    symlinks: false,\n  },\n\n+ module: {\n+   rules: [\n+     { test: /\\.xml$/, loader: 'webpack-panorama/lib/layout-loader' },\n+     { test: /\\.js$/, issuer: /\\.xml$/, loader: 'webpack-panorama/lib/entry-loader' },\n+   ],\n+ },\n\n  plugins: [new PanoramaTargetPlugin()],\n};\n")),Object(o.b)("p",null,"Now you need to move layout file to the source directory, and use relative script path:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:'title="content/panorama/src/hud/layout.xml"',title:'"content/panorama/src/hud/layout.xml"'}),'<root>\n  <scripts>\n    \x3c!-- highlight-next-line --\x3e\n    <include src="./script.js" />\n  </scripts>\n  <Panel />\n</root>\n')),Object(o.b)("h2",{id:"custom-ui-manifest"},"Custom UI Manifest"),Object(o.b)("p",null,"Now you don't need to synchronize your script entrypoints and layout script references, however you still have to do this for ",Object(o.b)("inlineCode",{parentName:"p"},"custom_ui_manifest.xml"),". ",Object(o.b)("inlineCode",{parentName:"p"},"PanoramaManifestPlugin")," allows you to define your entrypoints in a simple format, and generates ",Object(o.b)("inlineCode",{parentName:"p"},"custom_ui_manifest.xml")," including them."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-diff",metastring:'title="content/panorama/webpack.config.js"',title:'"content/panorama/webpack.config.js"'}),"const path = require('path');\n-const { PanoramaTargetPlugin } = require('webpack-panorama');\n+const { PanoramaManifestPlugin, PanoramaTargetPlugin } = require('webpack-panorama');\n\n/** @type {import('webpack').Configuration} */\nmodule.exports = {\n- entry: {\n-   hud: { filename: 'hud/layout.xml', import: './hud/layout.xml' },\n- },\n\n  mode: 'development',\n  context: path.resolve(__dirname, 'src'),\n  output: {\n    path: path.resolve(__dirname, 'layout/custom_game'),\n    publicPath: 'file://{resources}/layout/custom_game/',\n  },\n\n  module: ...,\n\n  plugins: [\n    new PanoramaTargetPlugin(),\n+   new PanoramaManifestPlugin({\n+     entries: [{ import: './hud/layout.xml', type: 'Hud' }]\n+   }),\n  ],\n};\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Since webpack 5 is currently in beta, some transitive dependencies might yield deprecation warnings. They can be safely ignored."))),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"entries")," option of ",Object(o.b)("inlineCode",{parentName:"p"},"PanoramaManifestPlugin")," accepts a list of entrypoints following this schema:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"interface ManifestEntry {\n  /**\n   * Module(s) that are loaded upon startup.\n   */\n  import: string;\n\n  /**\n   * Specifies the name of the output file on disk.\n   *\n   * @example\n   * { import: './loading-screen/layout.xml', filename: 'custom_loading_screen.xml' }\n   */\n  filename?: string | null;\n\n  /**\n   * Type of a Custom UI.\n   *\n   * When not provided, this entry would be omitted from `custom_ui_manifest.xml` file.\n   *\n   * Can be defined only for XML entrypoints.\n   */\n  type?: ManifestEntryType | null;\n}\n\ntype ManifestEntryType =\n  | 'GameSetup'\n  | 'HeroSelection'\n  | 'Hud'\n  | 'HudTopBar'\n  | 'FlyoutScoreboard'\n  | 'GameInfo'\n  | 'EndScreen';\n")),Object(o.b)("h2",{id:"css"},"CSS"),Object(o.b)("p",null,"Since now all layout files are processed with webpack, adding a new resource type isn't any different from adding a new resource type for JavaScript."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"npm install -D file-loader\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-diff",metastring:'title="content/panorama/webpack.config.js"',title:'"content/panorama/webpack.config.js"'}),"  module: {\n    rules: [\n      { test: /\\.xml$/, loader: 'webpack-panorama/lib/layout-loader' },\n      { test: /\\.js$/, issuer: /\\.xml$/, loader: 'webpack-panorama/lib/entry-loader' },\n+     {\n+       test: /\\.css$/,\n+       issuer: /\\.xml$/,\n+       loader: 'file-loader',\n+       options: { name: '[path][name].css', esModule: false },\n+     },\n    ],\n  },\n")),Object(o.b)("h3",{id:"sass"},"SASS"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"npm install -D sass-loader sass\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-diff",metastring:'title="content/panorama/webpack.config.js"',title:'"content/panorama/webpack.config.js"'}),"  module: {\n    rules: [\n      { test: /\\.xml$/, loader: 'webpack-panorama/lib/layout-loader' },\n      { test: /\\.js$/, issuer: /\\.xml$/, loader: 'webpack-panorama/lib/entry-loader' },\n      {\n-       test: /\\.css$/,\n+       test: /\\.(css|s[ac]ss)$/,\n        issuer: /\\.xml$/,\n        loader: 'file-loader',\n        options: { name: '[path][name].css', esModule: false },\n      },\n+     { test: /\\.s[ac]ss$/, loader: 'sass-loader' }\n    ],\n  },\n")))}l.isMDXComponent=!0},188:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(195),i=a(192),c=a(90),s=a.n(c);const l=37,p=39;t.a=function(e){const{block:t,children:a,defaultValue:c,values:u,groupId:b}=e,{tabGroupChoices:m,setTabGroupChoices:d}=Object(r.a)(),[h,f]=Object(n.useState)(c);if(null!=b){const e=m[b];null!=e&&e!==h&&u.some(t=>t.value===e)&&f(e)}const j=e=>{f(e),null!=b&&d(b,e)},g=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},u.map(({value:e,label:t})=>o.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":h===e,className:Object(i.a)("tabs__item",s.a.tabItem,{"tabs__item--active":h===e}),key:e,ref:e=>g.push(e),onKeyDown:e=>((e,t,a)=>{switch(a.keyCode){case p:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case l:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(g,e.target,e),onFocus:()=>j(e),onClick:()=>j(e)},t))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter(e=>e.props.value===h)[0]))}},189:function(e,t,a){"use strict";var n=a(0),o=a.n(n);t.a=function(e){return o.a.createElement("div",null,e.children)}},190:function(e,t,a){"use strict";var n=a(0),o=a(34);t.a=function(){return Object(n.useContext)(o.a)}},191:function(e,t,a){"use strict";function n(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}a.d(t,"a",(function(){return n}))},192:function(e,t,a){"use strict";function n(e){var t,a,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(o&&(o+=" "),o+=a);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,a=0,o="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}},193:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(190),o=a(191);function r(e,{forcePrependBaseUrl:t=!1,absolute:a=!1}={}){const{siteConfig:{baseUrl:r="/",url:i}={}}=Object(n.a)();if(!e)return e;if(t)return r+e;if(!Object(o.a)(e))return e;const c=r+e.replace(/^\//,"");return a?i+c:c}},194:function(e,t,a){"use strict";var n=a(0);const o=Object(n.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=o},195:function(e,t,a){"use strict";var n=a(0),o=a(194);t.a=function(){return Object(n.useContext)(o.a)}},196:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(0),o=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},u=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(a),m=n,d=u["".concat(i,".").concat(m)]||u[m]||b[m]||r;return a?o.a.createElement(d,c(c({ref:t},l),{},{components:a})):o.a.createElement(d,c({ref:t},l))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var l=2;l<r;l++)i[l]=a[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},197:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),o=a.n(n);function r({id:e,aspectRatio:t=4/3,hd:a="0"}){return o.a.createElement("p",{style:{position:"relative",paddingBottom:1/t*100+"%"}},o.a.createElement("iframe",{src:`https://gfycat.com/ifr/${e}?hd=${a}`,scrolling:"no",frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),o=a.n(n);function r({id:e,playlistId:t,aspectRatio:a=16/9}){const n=void 0!==t?"https://www.youtube.com/embed/videoseries?list="+t:"https://www.youtube.com/embed/"+e;return o.a.createElement("p",{style:{position:"relative",paddingBottom:1/a*100+"%"}},o.a.createElement("iframe",{src:n,frameBorder:"0",allowFullScreen:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}}))}},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),o=a(189),r=a(188),i=a(0),c=a.n(i);const s={lua:"Lua",ts:"TypeScript",tsx:"TypeScript",js:"JavaScript",jsx:"JavaScript"};function l({children:e,group:t,titles:a}){Object(n.a)("string"==typeof t||void 0===t);const i=c.a.Children.toArray(e).map((e,t)=>{var n,o,r,i;const c=null!==(n=null===(o=e.props.children.props.className)||void 0===o?void 0:o.replace(/language-/,""))&&void 0!==n?n:"Tab "+(t+1);return{id:t,languageName:null!==(r=null!==(i=(void 0!==a&&a.length>0?a.split("|"):[])[t])&&void 0!==i?i:s[c])&&void 0!==r?r:c,element:e}});return c.a.createElement(r.a,{groupId:void 0!==t?"multi-code-block-"+t:void 0,defaultValue:i[0].id,values:i.map(({id:e,languageName:t})=>({value:e,label:t}))},i.map(({id:e,element:t})=>c.a.createElement(o.a,{key:e,value:e},t)))}},200:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(193),o=a(0),r=a.n(o);function i({path:e,controls:t=!1}){return r.a.createElement("video",{width:"100%",height:"100%",autoPlay:!0,muted:!0,loop:!0,controls:t},r.a.createElement("source",{src:Object(n.a)(e),type:"video/mp4"}))}}}]);