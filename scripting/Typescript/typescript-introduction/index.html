<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="search" type="application/opensearchdescription+xml" title="ModDota" href="/opensearch.xml"><title data-react-helmet="true">Typescript Introduction | ModDota</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Typescript Introduction | ModDota"><meta data-react-helmet="true" name="description" content="Typescript is a powerful tool that we can use to improve our ability to properly script files for Dota 2. Using tstl (Typescript To Lua), it automatically generates a lua file for the game to use for each file you&#x27;re working on - this process is completely automatic from the moment it starts up."><meta data-react-helmet="true" property="og:description" content="Typescript is a powerful tool that we can use to improve our ability to properly script files for Dota 2. Using tstl (Typescript To Lua), it automatically generates a lua file for the game to use for each file you&#x27;re working on - this process is completely automatic from the moment it starts up."><meta data-react-helmet="true" property="og:url" content="https://moddota.com/scripting/Typescript/typescript-introduction"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://moddota.com/scripting/Typescript/typescript-introduction"><link rel="stylesheet" href="/styles.feceb74b.css">
<link rel="stylesheet" href="/main.8db07b0a.css">
<link rel="preload" href="/styles.cf0745e2.js" as="script">
<link rel="preload" href="/runtime~main.82b411d8.js" as="script">
<link rel="preload" href="/main.957a4a09.js" as="script">
<link rel="preload" href="/1.298f4e14.js" as="script">
<link rel="preload" href="/2.4fc8d9c5.js" as="script">
<link rel="preload" href="/1be78505.07c283b1.js" as="script">
<link rel="preload" href="/ec1ed54d.6385b632.js" as="script">
<link rel="preload" href="/c0154f02.d4e6fd98.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo-80x80.png"><strong class="navbar__title">ModDota</strong></a><a class="navbar__item navbar__link" href="/tutorials">Tutorials</a><a target="_blank" rel="noopener noreferrer" href="/api" class="navbar__item navbar__link">Lua API</a><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Panorama API</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/gRmZgvz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo-80x80.png"><strong class="navbar__title">ModDota</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/tutorials">Tutorials</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="/api" class="menu__link">Lua API</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" target="_blank" rel="noopener noreferrer" class="menu__link">Panorama API</a></li><li class="menu__list-item"><a href="https://discord.gg/gRmZgvz" target="_blank" rel="noopener noreferrer" class="menu__link">Discord</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1jis"><div class="docSidebarContainer_1kjN"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/scripting-introduction">Scripting Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Typescript</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/scripting/Typescript/typescript-introduction">Typescript Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/Typescript/typescript-ability">Abilities in Typescript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/Typescript/tooltip-generator">Tooltip Generator</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Abilities, items, modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/ability-keyvalues">Ability KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/item-keyvalues">Item KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/the-importance-of-abilityspecial-values">The importance of AbilitySpecial values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/passing-abilityspecial-values-into-lua">Passing AbilitySpecial values into Lua</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/abilityduration-tooltips">AbilityDuration tooltips</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/simple-custom-ability">Simple Custom Ability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/creating-innate-abilities">Creating innate (available from level 1) abilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/making-any-ability-use-charges">Making any ability use charges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/calling-spells-with-setcursor">Calling Spells with SetCursor</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers" tabindex="-1">Lua Abilities and Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-item-tutorial">Lua Item Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Lua Modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/1">Extending Hero/NPC API with lua modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/2">Linken&#x27;s Sphere &amp; Lotus Orb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/3">Transformations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/4">Enchanting Trees</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/reutilizing-built-in-modifiers">Reutilizing Built-In Modifiers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Datadriven</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/datadriven-ability-events-modifiers">DataDriven Ability Events &amp; Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/all-about-the-target">All about the Target</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/channeling-animations">Channeling Animations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/invisibility-ability-example">Invisibility Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/illusion-ability-example">Illusion Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/rotate-ability-example">Rotate Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/point-channeling-aoe-ability-example">Point Channeling AoE Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/apply-hero-and-creep-modifier-durations">Apply Hero and Creep modifier durations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/physics-ability-example-exorcism">Physics Ability Example - Exorcism</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Units</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-keyvalues">Unit KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-producing-buildings">Unit producing buildings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/creating-units-with-a-duration">Creating units with a duration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/adding-a-very-simple-ai-to-units">Adding a Very Simple AI to Units</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/simple-neutral-ai">Writing a simple AI for neutrals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/create-creature-attachwearable-blocks-directly-from-the-keyvalues">Create Creature AttachWearable blocks directly from the keyvalues</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scripting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/custom-mana-system">Custom Mana System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/item-restrictions-requirements">Item Restrictions &amp; Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/item-drop-system">Item Drop System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/making-a-rpg-like-looting-chest">Making a &quot;rpg-like&quot; looting chest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/scripted-shop-spawning">Scripted Shop Spawning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/lava-damage">Lava damage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/using-dota-filters">Using the order filter and other filters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/particle-attachment">Particle Attachment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/vector-math">Basic Vector Math</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/precache-fixing-and-avoiding-issues">Precache, Fixing and avoiding issues</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables" tabindex="-1">Custom NetTables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Panorama UI</a><ul class="menu__list"><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama" tabindex="-1">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/inclusive-panorama-ui">Inclusive Panorama UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/introduction-to-panorama-ui-with-typescript">Introduction to Panorama UI with TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/keybindings">Keybindings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/dotascenepanel">DOTAScenePanel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/button-examples">Button Examples</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup" tabindex="-1">Custom Game Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/hiding-hud-with-sethudvisible">Hiding HUD with SetHUDVisible</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/webpack">Bundling scripts with webpack</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/react">React in Panorama</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Assets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/asset-file-type-reference">Asset File Type Reference</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Maps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/hammer-tutorials">Hammer Tutorials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/making-skip-clip-blocks-out-of-models">Making skip/clip blocks out of models</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Models</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-custom-models">Importing custom models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/mdl-to-vmdl-conversion">MDL to VMDL Conversion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/adding-hitbox-to-models-without-a-bone">Adding Hitbox to Models without a Bone</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-models-and-using-material-editor">Importing models and using the material editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/exporting-models-and-materials-textures">Exporting Models and Materials/Textures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/custom-hero-models-materials-animations">Custom Hero models, materials and animations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Particles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/particle-basics">Particle Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/chaos-wave-particle">Chaos Wave Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/falling-cherry-blossom-petal-for-spring-mood-particle">Falling cherry blossom petal for spring mood particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/volcano-particle">Volcano Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/status-effects">Status Effects</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-sounds">Custom Sounds</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/extracting-and-compiling-vtex-files">Extracting and Compiling VTEX files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-minimap-icons">Custom Minimap Icons</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/useful-console-commands">Useful Console Commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/setting-up-your-addon-with-github">Setting Up Your Addon With GitHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/combining-kv-files-using-base">Combining KV files using #base</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/contribute">Contribute</a></li></ul></div></div></div><main class="docMainContainer_3j_A"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><div style="margin-top:-10px;margin-bottom:10px"><div class="row"><div class="col"><a href="https://github.com/ModDota/moddota.github.io/edit/source/_articles/scripting/Typescript/typescript-introduction.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Created on <time datetime="2020-12-02T00:00:00.000Z" class="docLastUpdatedAt_1gIo">12/2/2020</time> by <strong><a href="https://steamcommunity.com/profiles/76561197994333650">Shush</a></strong></small></em></div></div></div><header><h1 class="docTitle_cWlf">Typescript Introduction</h1></header><div class="markdown"><p>Typescript is a powerful tool that we can use to improve our ability to properly script files for Dota 2. Using tstl (Typescript To Lua), it automatically generates a lua file for the game to use for each file you&#x27;re working on - this process is completely automatic from the moment it starts up.</p><p>Typescript is more strict compared to lua, will use types to enforce certain functionalities, and will immediately alert you if you do something that doesn&#x27;t make sense to it, and will show an error until you fix it. For instance, doing <code>GetStrength()</code> on an ability doesn&#x27;t make sense.</p><p>Typescript can work well with most editors using plugins, however, <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">VSCode</a> is recommended as it comes with Typescript support built in, and is a very powerful editor.</p><video width="100%" height="100%" autoplay="" muted="" loop="" controls=""><source src="/videos/ts_example.mp4" type="video/mp4"></video><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="pros-anc-cons-for-using-typescript"></a>Pros anc Cons for using Typescript<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pros-anc-cons-for-using-typescript" title="Direct link to heading">#</a></h3><p><strong>Pros:</strong></p><ul><li>Enforces types, prevents you from using irrelevant functions.</li><li>Typescript is much more similar to most languages such as C#, Java, Javascript, and C (compared to lua).</li><li>Auto-complete that will only show API functions that match the type being called.</li><li>Saves a ton of time by immediately finding logical errors in code, instead of having to find them in-game (sometimes as edge cases which may not be found during local testing).</li><li>Tremendous support of Typescript in the web (e.g. Stack Overflow) for common Typescript questions.</li><li>Typescript itself comes with very powerful built-in functionalities and types, such as Sets, Maps, and array functionalities. Additionally, it supports class and types inheritance.</li><li>Typescript is used for both lua and Javascript, so you never have to switch between scripting languages; Typescript will convert it to the correct language for you.</li><li>Auto-complete for various arguments in APIs, such as a built-in event list.</li><li>Built-in enums and interfaces to make finding a specific Dota-based value extremely fast and easy.</li><li>Very easy to update new APIs when Valve (eventually) releases new functions.</li><li>Symlinks your Dota 2 folder for you as part of the setup, so you can easily integrate your changes into github, should you choose to do so.</li></ul><p><strong>Cons:</strong></p><ul><li>Takes some time to set up for the first time.</li><li>Some rare types may be incorrect. Those can be updated manually when the need arises.</li><li>Sometimes, requires more of a set up for specific game logic, such as interfaces, typeguards and casts (this is again due to the nature of typed language).</li><li>Not very convenient to integrate for ongoing projects, though it can still work.</li><li>Referencing code or guides that are written in lua might not be easy in Typescript due to differences between how the languages work.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="setting-up-typescript"></a>Setting Up TypeScript<a aria-hidden="true" tabindex="-1" class="hash-link" href="#setting-up-typescript" title="Direct link to heading">#</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This guide assumes your operating system is Windows. If you have other operating systems, please contact us in the Typescript channel in the <a href="#dedicated-typescript-channel-in-moddota-discord">Discord</a> below.</p></div></div><p>First, since Typescript uses NodeJS, so it must be installed on your computer. You can download NodeJS from <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">here</a>. Simply choose the recommended version, which is the latest stable version. Download and install it with its default configuration.</p><p>Next, navigate to the <a href="https://github.com/ModDota/TypeScriptAddonTemplate" target="_blank" rel="noopener noreferrer">Typescript template</a>. This template has most of the files of a new addon configured for you, along with Typescript support.
There are two versions to use the template:</p><ol><li><p>Without GitHub: if you&#x27;re not planning to put your code in github, clone the above template. See below for explanation how.</p></li><li><p>With GitHub: if you do plan on put your code in github, click on the <img src="/images/typescript-tutorial/templateButton.png" alt="Use this template"> button located in the top right of the github page. This will create a new github repository that uses the template under your name. Fill in the repository name, description, and whether it is public or private. You can leave &quot;Include all branches&quot; unchecked, then click &quot;Create repository from template&quot;. When the new repository is created, clone it. See below for explanation how. For those unfamiliar with github, I recommend using a Github GUI, such as <a href="https://desktop.github.com/" target="_blank" rel="noopener noreferrer">Github Desktop</a>.</p></li></ol><p>Cloning the repository meaning making a copy of it on your computer. This can be done by clicking on &quot;Code&quot;, then on &quot;Download Zip&quot;, as shown here:</p><p><img src="/images/typescript-tutorial/cloneRepo.png" alt="Cloning from Github"></p><p>You can then extract the ZIP anywhere you want. However, do NOT put it inside your Dota 2 folder. For example, I placed it in my Desktop, inside a folder named &quot;Dota 2 custom games&quot;. The folder that becomes extracted is named <code>TypeScriptAddonTemplate-master</code>, so just rename the folder to more correctly reflect your custom game&#x27;s name. For the sake of this tutorial, I named it <code>typescript-example</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="creating-a-typescript-based-addon-in-dota"></a>Creating a Typescript-based addon in Dota<a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-a-typescript-based-addon-in-dota" title="Direct link to heading">#</a></h3><p>Now that we have the files on our computer, we can set up a new addon game very quickly. There are a few steps remaining before doing so:</p><ul><li>Go into your folder, in my case <code>typescript-example</code>.</li><li>Open <code>package.json</code> with any text editor. You&#x27;ll notice that the <code>name</code> field is an empty string. Add the name of the custom game. For example, I named it <code>typescript_tutorial</code>. The field should look like this:</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;name&quot;: &quot;typescript_tutorial&quot;,</span></div></div></div></div></div><p>Save and close the file.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Make sure there is no folder with that name inside both the <code>game/dota_addons</code> and <code>content/dota_addons</code> of your Dota 2 game folder. The installation process will create those folders for you. If the folders exist, delete them first, or change the name in <code>package.json</code> to something else.</p></div></div><ul><li>While inside the folder with the <code>package.json</code> file you just edited, click on the address bar, so the path to your folder becomes highlighted and editable as text. It should look like this:</li></ul><p><img src="/images/typescript-tutorial/clickAddressBar.png" alt="Click on path"></p><ul><li><p>While the path is highlighted, delete the text and instead type &quot;cmd&quot; and press Enter. This will open the Command Shell with the folder path shown right before your input cursor.</p></li><li><p>Type <code>npm install</code> and press enter. You&#x27;ll see a loading bar, which should take up to a minute to complete. If it was successful, you should see that your <code>game</code> and <code>content</code> folders now have a &quot;shortcut&quot; icon next to them. They&#x27;re now symlinked to your Dota 2 folder. The <code>typescript_tutorial</code> folder now exists for both <code>game/dota_addons/</code> and <code>content/dota_addons</code> in your Dota 2 folder.</p></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Symlinked folders are copies of each other, where any action done on one is also applied on the other folder. Therefore, you can simply work on your conveniently placed folder (<code>Desktop/Dota 2 custom games/typescript-example</code> in my example), and it will automatically be applied on the Steam Dota 2 folder as well.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="typescript-addon-structure"></a>Typescript Addon Structure<a aria-hidden="true" tabindex="-1" class="hash-link" href="#typescript-addon-structure" title="Direct link to heading">#</a></h3><p>Most of the structure for Typescript is identical to a standard Dota addon, such as having <code>scripts/vscripts/</code> folder. However, there are a few additional files responsible for making Typescript identify and work with Dota 2 API, and in the custom game in general.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The structure inside the <code>/game/</code> and <code>/content/</code> folders can be changed and designed as you wish; however, you will have to make sure all imports still point to the correct path. You should not change folders in the root folder unless you know what you&#x27;re doing.</p></div></div><p>Most of those files can be left alone, but it&#x27;s good to know what they do. Most of those files are located at <code>/game/vscripts/</code> folder:</p><ul><li><code>tsconfig.json</code>: Configures how Typescript works in the lua portion of the project.</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The same file exists in the <code>/content/panorama/scripts/custom_game</code> folder for Typescript configuration rules for panorama.</p></div></div><ul><li><code>vscripts/lib/dota_ts_adapter.ts</code>: Responsible for registering various common classes, such as abilities, items, and modifiers.</li><li><code>vscripts/lib/tstl-utils.ts</code>: Responsible for the typescript-to-lua translation.</li><li><code>vscripts/lib/timers.lua</code> and <code>vscripts/lib/timers.d.ts</code>: The common Timers library is already included in default in its lua form, with timers.d.ts including an interface to allow using the Timers library in Typescript.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="updating-your-addon"></a>Updating Your Addon<a aria-hidden="true" tabindex="-1" class="hash-link" href="#updating-your-addon" title="Direct link to heading">#</a></h3><p>Occasionally, Valve will release new API or changes to existing API, usually at events and major patches. Your Typescript project will not automatically adjust to those changes as they need to be filed and typed first, which is usually done by the people responsible for the Typescript template. However, when a new update is announced for Typescript for Dota 2, you can easily update your project. There are two ways to do so:</p><ul><li><p>Using VSCode&#x27;s terminal: If your chosen editor is VSCode and it has your project&#x27;s folder loaded, click on Terminal -&gt; New Terminal. A new terminal will open. Type <code>npm update</code> and press Enter.</p></li><li><p>Using cmd: Open cmd from your project&#x27;s root directory (<code>Desktop/Dota 2 custom games/typescript-example</code> in my example), then type <code>npm update</code> and press enter.</p></li></ul><p>The project will update to the newest version automatically.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="activating-the-watcher"></a>Activating The Watcher<a aria-hidden="true" tabindex="-1" class="hash-link" href="#activating-the-watcher" title="Direct link to heading">#</a></h3><p>In order for your files to compile and have their compiled lua or javascript equivalents, it is required to activate the watcher. The watcher watches over all changes done on your files in the project, and immediately produces a lua or javascript equivalent, assuming the file compiled with no errors. There are three ways to activate the watcher:</p><ul><li><p>Using VSCode&#x27;s terminal: If you&#x27;re using VSCode and it has your project&#x27;s folder loaded, click on Terminal -&gt; Run Build Task. Alternatively, you can use the hotkey for it, default <code>Ctrl+Shift+B</code>.</p></li><li><p>Using cmd: Open cmd from your project&#x27;s root directory (<code>Desktop/Dota 2 custom games/typescript-example</code> in my example), then type <code>npm run dev</code> and press enter.</p></li><li><p>Other editors: Depending on the editor, the editor might have their own method to invoke a Run Build Task command; check the editor&#x27;s documentation for more details.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="normalized-types"></a>Normalized types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#normalized-types" title="Direct link to heading">#</a></h3><p>When dumping functions from the game, it comes with predefined types. Some of those types are not very convenient to work with, so instead, we can use the normalized types instead. Those normalized types change enums slightly, and their purpose is to increase readability of your code.</p><p>Examples of how types change after normalization:</p><ul><li><code>dotaunitorder_t.DOTA_UNIT_ORDER_ATTACK_MOVE</code> -&gt; <code>UnitOrder.ATTACK_MOVE</code></li><li><code>EDOTA_ModifyGold_Reason.DOTA_ModifyGold_Unspecified</code> -&gt; <code>ModifyGoldReason.UNSPECIFIED</code></li><li><code>ParticleAttachment_t.PATTACH_CUSTOMORIGIN</code> -&gt; <code>ParticleAttachment.CUSTOMORIGIN</code></li></ul><p>As the examples show, it is a lot more readable after the normalization.
The process is simple and only needs to be done once.</p><p>Navigate to your project&#x27;s <code>/game/scripts/vscripts</code> folder, then open <code>tsconfig.json</code> in any text editor. Locate <code>&quot;types&quot;: [&quot;dota-lua-types&quot;],</code>, and change it to <code>&quot;types&quot;: [&quot;dota-lua-types/normalized&quot;]</code>. Save the file and close it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="integrated-examples"></a>Integrated Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#integrated-examples" title="Direct link to heading">#</a></h3><p>Per writing this tutorial, the Typescript template comes with a few examples to show how game logic is done in Typescript. I recommend keeping those files for reference until you&#x27;re more comfortable with Typescript.
The examples are:</p><ul><li>In <code>game/scripts/vscripts/abilities/heroes/meepo/earthbind_ts_example.ts</code>: A custom Meepo&#x27;s Earthbind ability example.</li><li>In <code>game/scripts/vscripts/modifiers/modifier_panic.ts</code>: A custom modifier that restricts commands and orders the parent to move to a random position near it.</li><li>In <code>game/scripts/vscripts/GameMode.ts</code>: Game mode logic examples, such as setting the maximum players for each team to 3. Timer and event listening examples are also shown here.</li></ul><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>If you normalized the types as shown in the <a href="#normalized-types">Normalized types</a> section, the examples will no longer compile. You&#x27;ll have to change them to their normalized forms, if you plan to use them, or you can comment them out to reference them later on.</p></div></div><p>Note that the examples apply on your addon immediately, which can cause weird behaviors. You can disable those examples:</p><ul><li>In <code>/game/vscripts/GameMode.ts</code>, comment the code inside the <code>OnNpcSpawned</code> function. It gives all units spawned a custom Meepo&#x27;s Earthbind and a custom modifier that causes them to lose control.</li><li>In <code>/game/vscripts/GameMode.ts</code>, comment the conde inside the <code>configure</code> function. It sets each team to have 3 maximum players, along with some pick screen values.</li><li>In <code>/game/vscripts/GameMode.ts</code>, comment the conde inside the <code>OnStateChange</code> function. It adds bots to the enemy team.</li><li>In <code>/content/panorama/scripts/custom_game/manifest.ts</code>, comment all code inside it. It causes all HUD panels to be hidden by default when loading the game.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="generated-types"></a>Generated Types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#generated-types" title="Direct link to heading">#</a></h3><p>An additional important folder is located at <code>/node_modules/dota-lua-types/types/</code>. This folder holds files that are responsible for all the API that exists for Dota 2 custom games. You can modify this file if you want. However, note that when updating the project, those files would be updated as well, effectively removing your changes. In addition, those are ignored in your Github, so others will not see your changes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dedicated-typescript-channel-in-moddota-discord"></a>Dedicated Typescript Channel in Moddota Discord<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dedicated-typescript-channel-in-moddota-discord" title="Direct link to heading">#</a></h3><p>We have a dedicated Typescript channel in our <a href="https://discord.gg/ZyHg6T9sTd" target="_blank" rel="noopener noreferrer">moddota Discord</a> for every Typescript related question. Feel free to join and ask anything and we&#x27;ll be happy to assist.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="whats-next"></a>What&#x27;s Next?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#whats-next" title="Direct link to heading">#</a></h3><p>Check out the <a href="/scripting/Typescript/typescript-introduction">Abilities in Typescript</a> tutorial, which will show how to set up and code a basic ability to use in the game.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/scripting-introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Scripting Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/scripting/Typescript/typescript-ability"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Abilities in Typescript »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_tVyB"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pros-anc-cons-for-using-typescript" class="table-of-contents__link">Pros anc Cons for using Typescript</a></li><li><a href="#setting-up-typescript" class="table-of-contents__link">Setting Up TypeScript</a></li><li><a href="#creating-a-typescript-based-addon-in-dota" class="table-of-contents__link">Creating a Typescript-based addon in Dota</a></li><li><a href="#typescript-addon-structure" class="table-of-contents__link">Typescript Addon Structure</a></li><li><a href="#updating-your-addon" class="table-of-contents__link">Updating Your Addon</a></li><li><a href="#activating-the-watcher" class="table-of-contents__link">Activating The Watcher</a></li><li><a href="#normalized-types" class="table-of-contents__link">Normalized types</a></li><li><a href="#integrated-examples" class="table-of-contents__link">Integrated Examples</a></li><li><a href="#generated-types" class="table-of-contents__link">Generated Types</a></li><li><a href="#dedicated-typescript-channel-in-moddota-discord" class="table-of-contents__link">Dedicated Typescript Channel in Moddota Discord</a></li><li><a href="#whats-next" class="table-of-contents__link">What&#39;s Next?</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/styles.cf0745e2.js"></script>
<script src="/runtime~main.82b411d8.js"></script>
<script src="/main.957a4a09.js"></script>
<script src="/1.298f4e14.js"></script>
<script src="/2.4fc8d9c5.js"></script>
<script src="/1be78505.07c283b1.js"></script>
<script src="/ec1ed54d.6385b632.js"></script>
<script src="/c0154f02.d4e6fd98.js"></script>
</body>
</html>