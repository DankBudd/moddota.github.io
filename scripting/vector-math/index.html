<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="search" type="application/opensearchdescription+xml" title="ModDota" href="/opensearch.xml"><title data-react-helmet="true">Basic Vector Math | ModDota</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Basic Vector Math | ModDota"><meta data-react-helmet="true" name="description" content="While creating games it is hard to avoid using vector math, however they are not commonly taught in schools. While they are fairly intuitive once you get used to them, learning about vector math for the first time can be a bit difficult, therefore this tutorial."><meta data-react-helmet="true" property="og:description" content="While creating games it is hard to avoid using vector math, however they are not commonly taught in schools. While they are fairly intuitive once you get used to them, learning about vector math for the first time can be a bit difficult, therefore this tutorial."><meta data-react-helmet="true" property="og:url" content="https://moddota.com/scripting/vector-math"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://moddota.com/scripting/vector-math"><link rel="stylesheet" href="/styles.feceb74b.css">
<link rel="stylesheet" href="/main.b085bf71.css">
<link rel="preload" href="/styles.0e4a919a.js" as="script">
<link rel="preload" href="/runtime~main.a2fb8a44.js" as="script">
<link rel="preload" href="/main.77edbd6d.js" as="script">
<link rel="preload" href="/1.63f69919.js" as="script">
<link rel="preload" href="/2.8121b150.js" as="script">
<link rel="preload" href="/1be78505.4e0ed83a.js" as="script">
<link rel="preload" href="/ec1ed54d.adf36bc2.js" as="script">
<link rel="preload" href="/81017860.a39683de.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo.svg" alt="ModDota"><strong class="navbar__title">ModDota</strong></a><a class="navbar__item navbar__link" href="/tutorials">Tutorials</a><a target="_blank" rel="noopener noreferrer" href="/api" class="navbar__item navbar__link">Lua API</a><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Panorama API</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/gRmZgvz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo.svg" alt="ModDota"><strong class="navbar__title">ModDota</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/tutorials">Tutorials</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="/api" class="menu__link">Lua API</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" target="_blank" rel="noopener noreferrer" class="menu__link">Panorama API</a></li><li class="menu__list-item"><a href="https://discord.gg/gRmZgvz" target="_blank" rel="noopener noreferrer" class="menu__link">Discord</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1jis"><div class="docSidebarContainer_1kjN"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/scripting-introduction">Scripting Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Typescript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/Typescript/typescript-introduction">Typescript Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/Typescript/typescript-ability">Abilities in Typescript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/Typescript/typescript-modifier">Modifiers in Typescript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/Typescript/tooltip-generator">Tooltip Generator</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Abilities, items, modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/ability-keyvalues">Ability KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/item-keyvalues">Item KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/the-importance-of-abilityspecial-values">The importance of AbilitySpecial values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/passing-abilityspecial-values-into-lua">Passing AbilitySpecial values into Lua</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/abilityduration-tooltips">AbilityDuration tooltips</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/simple-custom-ability">Simple Custom Ability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/creating-innate-abilities">Creating innate (available from level 1) abilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/making-any-ability-use-charges">Making any ability use charges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/calling-spells-with-setcursor">Calling Spells with SetCursor</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers" tabindex="-1">Lua Abilities and Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-item-tutorial">Lua Item Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Lua Modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/1">Extending Hero/NPC API with lua modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/2">Linken&#x27;s Sphere &amp; Lotus Orb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/3">Transformations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/4">Enchanting Trees</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/reutilizing-built-in-modifiers">Reutilizing Built-In Modifiers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Datadriven</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/datadriven-ability-events-modifiers">DataDriven Ability Events &amp; Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/all-about-the-target">All about the Target</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/channeling-animations">Channeling Animations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/invisibility-ability-example">Invisibility Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/illusion-ability-example">Illusion Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/rotate-ability-example">Rotate Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/point-channeling-aoe-ability-example">Point Channeling AoE Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/apply-hero-and-creep-modifier-durations">Apply Hero and Creep modifier durations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/physics-ability-example-exorcism">Physics Ability Example - Exorcism</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Units</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-keyvalues">Unit KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-producing-buildings">Unit producing buildings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/creating-units-with-a-duration">Creating units with a duration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/adding-a-very-simple-ai-to-units">Adding a Very Simple AI to Units</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/simple-neutral-ai">Writing a simple AI for neutrals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/create-creature-attachwearable-blocks-directly-from-the-keyvalues">Create Creature AttachWearable blocks directly from the keyvalues</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Scripting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/custom-mana-system">Custom Mana System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/item-restrictions-requirements">Item Restrictions &amp; Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/item-drop-system">Item Drop System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/making-a-rpg-like-looting-chest">Making a &quot;rpg-like&quot; looting chest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/scripted-shop-spawning">Scripted Shop Spawning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/lava-damage">Lava damage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/using-dota-filters">Using the order filter and other filters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/particle-attachment">Particle Attachment</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/scripting/vector-math">Basic Vector Math</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/precache-fixing-and-avoiding-issues">Precache, Fixing and avoiding issues</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables" tabindex="0">Custom NetTables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Panorama UI</a><ul class="menu__list"><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama" tabindex="-1">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/inclusive-panorama-ui">Inclusive Panorama UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/introduction-to-panorama-ui-with-typescript">Introduction to Panorama UI with TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/keybindings">Keybindings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/dotascenepanel">DOTAScenePanel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/button-examples">Button Examples</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup" tabindex="-1">Custom Game Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/hiding-hud-with-sethudvisible">Hiding HUD with SetHUDVisible</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/webpack">Bundling scripts with webpack</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/react">React in Panorama</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Assets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/asset-file-type-reference">Asset File Type Reference</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Maps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/hammer-tutorials">Hammer Tutorials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/making-skip-clip-blocks-out-of-models">Making skip/clip blocks out of models</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Models</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-custom-models">Importing custom models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/mdl-to-vmdl-conversion">MDL to VMDL Conversion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/adding-hitbox-to-models-without-a-bone">Adding Hitbox to Models without a Bone</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-models-and-using-material-editor">Importing models and using the material editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/exporting-models-and-materials-textures">Exporting Models and Materials/Textures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/custom-hero-models-materials-animations">Custom Hero models, materials and animations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Particles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/particle-tutorial">Particle Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/particle-basics">Particle Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/chaos-wave-particle">Chaos Wave Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/falling-cherry-blossom-petal-for-spring-mood-particle">Falling cherry blossom petal for spring mood particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/volcano-particle">Volcano Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/status-effects">Status Effects</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-sounds">Custom Sounds</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/extracting-and-compiling-vtex-files">Extracting and Compiling VTEX files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-minimap-icons">Custom Minimap Icons</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/useful-console-commands">Useful Console Commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/setting-up-your-addon-with-github">Setting Up Your Addon With GitHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/combining-kv-files-using-base">Combining KV files using #base</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/contribute">Contribute</a></li></ul></div></div></div><main class="docMainContainer_3j_A"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><div style="margin-top:-10px;margin-bottom:10px"><div class="row"><div class="col"><a href="https://github.com/ModDota/moddota.github.io/edit/source/_articles/scripting/vector-math.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Created on <time datetime="2020-10-01T00:00:00.000Z" class="docLastUpdatedAt_1gIo">10/1/2020</time> by <strong><a href="https://steamcommunity.com/profiles/76561198046986723">Perry</a></strong></small></em></div></div></div><header><h1 class="docTitle_cWlf">Basic Vector Math</h1></header><div class="markdown"><p>While creating games it is hard to avoid using vector math, however they are not commonly taught in schools. While they are fairly intuitive once you get used to them, learning about vector math for the first time can be a bit difficult, therefore this tutorial.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="introduction-to-vectors"></a>Introduction to vectors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction-to-vectors" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="what-is-a-vector"></a>What is a vector<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-a-vector" title="Direct link to heading">#</a></h3><p>Vectors are a way to describe a point or direction in space. This space can have any number of dimensions, but for this tutorial we will focus on 2D just because it is easier to draw. All of these concepts also apply to higher dimension vectors though!</p><p>Usually a vector will be represented as <code>(x, y)</code>, which you can either interpret as:</p><blockquote><p>Point with coordinates (x, y)</p></blockquote><p>or</p><blockquote><p>Movement from (0, 0) to point (x, y)</p></blockquote><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When using vectors as a movement they only describe a movement TO somewhere, originating from the origin (0, 0). If you want to describe a movement that also has a FROM part, you need a second vector to describe the initial position.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example"></a>Example<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example" title="Direct link to heading">#</a></h4><p>So let&#x27;s look at how we would think about and vizualize two vectors: <code>A: (3, 2)</code> and <code>B: (-1, 3)</code>:</p><p><img src="https://i.imgur.com/4lalG0u.png" alt="Vector vizualization"></p><p><strong>Note:</strong> vectors have no origin and always originate from (0, 0). If you consider vectors as movements from origin to a point, you can also calculate their length, denoted by l_A and l_B.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="adding-vectors"></a>Adding vectors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-vectors" title="Direct link to heading">#</a></h3><p>So let&#x27;s say you consider vectors as movements, you can simply add two vectors to get the result of doing both movements. For example if you have a vector <code>A (xa, ya)</code> and <code>B (xb, yb)</code> indicating two movements, what is the result of doing both <code>A</code> and <code>B</code>? This is visualized like so:</p><p><img src="https://i.imgur.com/YBzf6oO.png" alt="Vector addition"></p><p><strong>Note:</strong> Moving by vector A first and then by B will result in the same vector as moving by B first followed by A. (This is why visualizing vector addition always results in this parallelogram).</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Example</h5></div><div class="admonition-content"><p>You can use calculate things like offsets or knockbacks using addition, i.e where does a unit end after getting knocked back in some direction?</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">newUnitPos = unitPos + knockbackVector</span></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="subtracting-vectors"></a>Subtracting vectors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#subtracting-vectors" title="Direct link to heading">#</a></h3><p>Now let&#x27;s say we want to know the inverse question to the previous one: Assuming I have two vector positions <code>A</code> and <code>B</code>, what movement do I have to do to get from <code>A</code> to <code>B</code>? The answer to this is a vector subtraction: <code>C = B - A</code>. Note that this works exactly like regular math, so doing <code>A + C = B</code>:</p><p><img src="https://i.imgur.com/Sa4gnxz.png" alt="Vector subtraction"></p><p><strong>Note:</strong> Just like when subtracting regular numbers, order matters! <code>B - A</code> gives the vector from <code>A</code> to <code>B</code>, while <code>A - B</code> gives the opposite vector, from <code>B</code> to <code>A</code>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Example</h5></div><div class="admonition-content"><p>You can use vector subtraction to calculate the difference in position between two units, and get for example the distance between them:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">distanceBetweenUnit1AndUnit2 = length(unit2Pos - unit1Pos)</span></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="multiplying-vectors"></a>Multiplying vectors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#multiplying-vectors" title="Direct link to heading">#</a></h3><p>The last &#x27;basic&#x27; vector operation I want to go over is multiplication with a number (NOT with another vector).</p><p>When multiplying a vector with a number it retains its direction, but its length is multiplied by this number:</p><p><img src="https://i.imgur.com/1h83sJr.png" alt="Vector multiplication"></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Example</h5></div><div class="admonition-content"><p>You can use vector multiplication to rescale vectors to a certain length. For example when you have a unit or normal vector (length 1), multiplying with a number will make it that length.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">vectorOfLength100 = vectorOfLength1 * 100</span></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="vectors-as-directionorientation"></a>Vectors as Direction/Orientation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vectors-as-directionorientation" title="Direct link to heading">#</a></h3><p>As seen before, vectors look very much like a direction to somewhere. This makes them very useful for representing the orientation of something instead of using an angle (because angles make calculating much more difficult).</p><p>To do so, orientation is often expressed as vectors of length 1. This is because of the special relation vectors have with angles: For an angle <code>a</code>, <code>(cos(a), sin(a))</code> is a vector of length 1, pointing in the direction of angle <code>a</code>:</p><p><img src="https://i.imgur.com/vjW0ye7.png" alt="Vectors and angles"></p><p>You might be wondering what the point of this is, for an application if why storing orientation as vectors of length 1 see section &#x27;Spawning an item in front of the player&#x27;.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dot-product"></a>Dot product<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dot-product" title="Direct link to heading">#</a></h3><p>The final vector concept for this tutorial is the &#x27;dot product&#x27; of two vectors. Simply put, this dot product gives you a measure of &#x27;how much vectors are pointing in the same direction&#x27;. If two vectors (of length 1) point in exactly the same direction, the dot product is 1. If two vectors (of length 1) point in exactly the opposite direction the dot product is -1. If the two vectors are at a 90 degree angle, the dot product is 0:</p><p><img src="https://i.imgur.com/erBE2yl.png" alt="Dot product"></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Technically <code>dot(A, B) = length(A) * length(B) * cos(angle)</code>, so watch out when calculating the dot product of non-length-1 vectors: they will no longer range from -1 to 1.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="normalization"></a>Normalization<a aria-hidden="true" tabindex="-1" class="hash-link" href="#normalization" title="Direct link to heading">#</a></h3><p>As mentioned shown above it is often very useful to have vectors of length 1 (only the direction, not the distance). This is so common there is a standard procedure to calculate this: Normalization. When normalizing a vector you simply divide it by its length (or multiply with 1/length). This will always give you a vector of length 1.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Vectors with length 1 are referred to as &#x27;Normal&#x27; or &#x27;Unit&#x27; vectors.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="vector-math-in-games"></a>Vector math in games<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vector-math-in-games" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="spawning-an-item-in-front-of-the-player"></a>Spawning an item in front of the player<a aria-hidden="true" tabindex="-1" class="hash-link" href="#spawning-an-item-in-front-of-the-player" title="Direct link to heading">#</a></h3><p>Let&#x27;s say we want to spawn an item 100 units in front of a player hero, how do we calculate this location <code>A</code>?</p><p>We can visualize this question like this:</p><p><img src="https://i.imgur.com/1ksId50.png" alt="Spawning in front of a player"></p><p>Referencing this visualization it is obvious we can calculate this A as follows:</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_3zTA tabs__item--active">Lua</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_3zTA">TypeScript</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">-- Calculate the vector from the hero to the point by multiplying</span></div><div class="token-line" style="color:#393A34"><span class="token plain">-- their forward vector (length 1) with the desired distance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">local heroToPoint = hero:GetForwardVector() * 100</span></div><div class="token-line" style="color:#393A34"><span class="token plain">-- Calculate world position  of the item by adding the vector</span></div><div class="token-line" style="color:#393A34"><span class="token plain">-- from hero to point to the world position of the hero</span></div><div class="token-line" style="color:#393A34"><span class="token plain">local itemPos = hero:GetAbsOrigin() + heroToPoint</span></div></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="checking-if-unit-is-facing-a-direction"></a>Checking if unit is facing a direction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checking-if-unit-is-facing-a-direction" title="Direct link to heading">#</a></h3><p>Another common question is how can we calculate if my unit is facing a specific point on the map.</p><p>We visualize this problem like this:</p><p><img src="https://i.imgur.com/iBH3cIk.png" alt="Facing point?"></p><p>So looking at the visualization, when does a unit face point P? Well it looks like this happens when their forward vector (the orange one) aligns with the vector from the unit to the point (the purple one). So capturing this in code would look a little like this:</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_3zTA tabs__item--active">Lua</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_3zTA">TypeScript</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">function isUnitFacingPoint(unit, point)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Calculate the relative position of the unit to the point</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local relativePosition = point - unit:GetAbsOrigin()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Remember, using dot product works best with normal vectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- The unit&#x27;s forward is already normal, but we need to normalize</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- the relative position to only get its direction.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local directionToPoint = relativePosition:Normalized()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Check if the alignment of the forward vector and relative direction</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- is within some acceptable range of tolerance</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  return unit:GetForwardVector():Dot(directionToPoint) &gt; 0.7</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="checking-if-unit-is-attacked-from-behind"></a>Checking if unit is attacked from behind<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checking-if-unit-is-attacked-from-behind" title="Direct link to heading">#</a></h3><p>This question is similar to the previous question, only now there are two units facing in different ways:</p><p><img src="https://i.imgur.com/uLT3QzQ.png" alt="Attacking from behind"></p><p>Looking at this drawing it becomes obvious that the forward vector of unit 2 (F2) actually does <strong>not</strong> matter. What matters is the angle (dot product) between the forward vector of the unit getting attacked, and the where the attack is coming from (the vector from unit 2 to unit 1: <code>P1 - P2</code>)</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_3zTA tabs__item--active">Lua</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_3zTA">TypeScript</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">function isAttackedFromBehind(victim, attacker)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Calculate the relative position from attacker to victim (P1 - P2)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local relativePosition = victim:GetAbsOrigin() - attacker:GetAbsOrigin()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Normalize relative position to get attack direction</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local attackDirection = relativePosition:Normalized()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Get the forward vector of the victim</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local victimForward = victim:GetForwardVector()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Check if both normal(!) vectors are pointing in the same direction</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  return victimForward:Dot(attackDirection) &gt; 0.7</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="creating-some-effects-around-player"></a>Creating some effects around player<a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-some-effects-around-player" title="Direct link to heading">#</a></h3><p>Consider the case where you want multiple things to happen evenly spaced in a circle around the player character. We can visualize it as follows:</p><p><img src="https://i.imgur.com/TOqC1Ly.png" alt="Circular effect"></p><p>By now it should be obvious we need to add the green vectors to the player position, the question is however how do you calculate these green vectors?</p><p>What we can simply do is divide the full circle radius (2 * pi) by the number of points we want to use, and then for each angle calculate the unit vector from the angle, multiply it with the desired length and add it to the player position:</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_3zTA tabs__item--active">Lua</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_3zTA">TypeScript</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">-- Calculate the angle between each point on the circle</span></div><div class="token-line" style="color:#393A34"><span class="token plain">-- (This is in radians, the full circle is 2*pi radians)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">local angle = 2 * math.pi / numPoints</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">for i=1,numPoints do</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Create direction vector from the angle</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local direction = Vector(math.cos(angle * i), math.sin(angle * i))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Multiply the direction (length 1) with the desired radius of the circle</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local circlePoint = direction * radius</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -- Add the calculated green vector to the player position and do something</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  doSomething(player:GetAbsOrigin() + circlePoint)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="physics-with-vectors---homing-projectile"></a>Physics with vectors - Homing projectile<a aria-hidden="true" tabindex="-1" class="hash-link" href="#physics-with-vectors---homing-projectile" title="Direct link to heading">#</a></h3><p>As you have seen vector math is quite powerful and can be used to express positional and movement concepts in simple statements. In this final example I will show how to a simple &#x27;physics&#x27; simulation to create a homing projectile.</p><p>We will express the projectile using two vectors: <code>position</code> and <code>velocity</code>. This makes the projectile unable to instantly change its direction, but suffer some inertia: it will home in on the player on every tick, but it cannot easily slow down or change direction:</p><p><img src="https://i.imgur.com/GVK8Nbo.png"></p><p>To achieve this effect we simply &#x27;accelerate&#x27; the velocity of the projectile towards the player on every update, so the velocity turns towards the player a little bit every update. We then simply update the position based on the current velocity:</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_3zTA tabs__item--active">Lua</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_3zTA">TypeScript</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">function updateProjectile(projectile, target)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- Calculate direction from projectile to target</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local relativeTargetPos = target:GetAbsOrigin() - projectile:GetAbsOrigin()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local targetDirection = relativeTargetPos:Normalized()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- Now we update the projectile velocity to point more to the target</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- Note: you can increase/decrease acceleration to make it change direction</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- faster or slower</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    projectile.velocity = projectile.velocity + targetDirection * acceleration</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- Next we update the projectile position by simply adding the velocity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    projectile.position = projectile.position + projectile.velocity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/scripting/particle-attachment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Particle Attachment</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/scripting/precache-fixing-and-avoiding-issues"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Precache, Fixing and avoiding issues »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_tVyB"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-to-vectors" class="table-of-contents__link">Introduction to vectors</a><ul><li><a href="#what-is-a-vector" class="table-of-contents__link">What is a vector</a></li><li><a href="#adding-vectors" class="table-of-contents__link">Adding vectors</a></li><li><a href="#subtracting-vectors" class="table-of-contents__link">Subtracting vectors</a></li><li><a href="#multiplying-vectors" class="table-of-contents__link">Multiplying vectors</a></li><li><a href="#vectors-as-directionorientation" class="table-of-contents__link">Vectors as Direction/Orientation</a></li><li><a href="#dot-product" class="table-of-contents__link">Dot product</a></li><li><a href="#normalization" class="table-of-contents__link">Normalization</a></li></ul></li><li><a href="#vector-math-in-games" class="table-of-contents__link">Vector math in games</a><ul><li><a href="#spawning-an-item-in-front-of-the-player" class="table-of-contents__link">Spawning an item in front of the player</a></li><li><a href="#checking-if-unit-is-facing-a-direction" class="table-of-contents__link">Checking if unit is facing a direction</a></li><li><a href="#checking-if-unit-is-attacked-from-behind" class="table-of-contents__link">Checking if unit is attacked from behind</a></li><li><a href="#creating-some-effects-around-player" class="table-of-contents__link">Creating some effects around player</a></li><li><a href="#physics-with-vectors---homing-projectile" class="table-of-contents__link">Physics with vectors - Homing projectile</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/styles.0e4a919a.js"></script>
<script src="/runtime~main.a2fb8a44.js"></script>
<script src="/main.77edbd6d.js"></script>
<script src="/1.63f69919.js"></script>
<script src="/2.8121b150.js"></script>
<script src="/1be78505.4e0ed83a.js"></script>
<script src="/ec1ed54d.adf36bc2.js"></script>
<script src="/81017860.a39683de.js"></script>
</body>
</html>